# 基于SpringBoot的篮球馆管理系统开发文档

## 1. 项目概述

### 1.1 项目背景
本系统旨在为篮球馆提供一个全面的管理平台，实现场馆预订、会员管理、财务统计等功能的信息化管理。

### 1.2 技术栈
- **后端**: Spring Boot 3.x + MyBatis/MyBatis-Plus + MySQL
- **前端**: Vue.js 3.x + Element-Plus / React + Ant Design
- **安全**: Spring Security + JWT
- **其他**: Redis(缓存) + Maven(构建) + Swagger(API文档)

---

## 2. 用户角色设计

### 2.1 角色类型

| 角色 | 说明 | 权限级别 |
|------|------|----------|
| 超级管理员 | 系统最高权限管理者 | 5 |
| 场馆管理员 | 负责场馆日常运营管理 | 4 |
| 教练 | 负责课程教学和会员指导 | 3 |
| 会员用户 | 普通注册用户 | 2 |
| 游客 | 未注册用户 | 1 |

---

## 3. 系统功能模块

### 3.1 功能架构图

```
篮球馆管理系统
├── 用户管理模块
│   ├── 用户注册/登录
│   ├── 个人信息管理
│   ├── 权限管理
│   └── 会员等级管理
├── 场馆管理模块
│   ├── 场地信息管理
│   ├── 场地状态监控
│   ├── 场地维护记录
│   └── 设备管理
├── 预订管理模块
│   ├── 场地预订
│   ├── 预订查询
│   ├── 预订取消/修改
│   └── 预订统计
├── 课程管理模块
│   ├── 课程发布
│   ├── 课程报名
│   ├── 课程安排
│   └── 课程评价
├── 财务管理模块
│   ├── 收入统计
│   ├── 订单管理
│   ├── 退款管理
│   └── 财务报表
├── 会员管理模块
│   ├── 会员卡管理
│   ├── 积分管理
│   ├── 充值续费
│   └── 会员统计
├── 公告管理模块
│   ├── 公告发布
│   ├── 公告查看
│   └── 公告管理
└── 数据统计模块
    ├── 场馆使用率统计
    ├── 用户活跃度分析
    ├── 收入趋势分析
    └── 报表导出
```

---

## 4. 各角色功能权限

### 4.1 超级管理员
- ✓ 系统所有功能权限
- ✓ 用户角色分配
- ✓ 系统参数配置
- ✓ 数据备份与恢复
- ✓ 日志查看

### 4.2 场馆管理员
- ✓ 场地信息管理(增删改查)
- ✓ 预订审核与管理
- ✓ 课程管理
- ✓ 教练管理
- ✓ 会员管理
- ✓ 财务统计查看
- ✓ 公告发布
- ✓ 数据统计查看

### 4.3 教练
- ✓ 个人课程管理
- ✓ 学员信息查看
- ✓ 课程签到
- ✓ 个人收入查看
- ✓ 公告查看

### 4.4 会员用户
- ✓ 场地预订
- ✓ 课程报名
- ✓ 个人订单查看
- ✓ 会员卡充值
- ✓ 积分查询
- ✓ 个人信息修改
- ✓ 公告查看
- ✓ 课程评价

### 4.5 游客
- ✓ 场馆信息浏览
- ✓ 课程信息查看
- ✓ 用户注册
- ✓ 公告查看

---

## 5. 核心功能详细设计

### 5.1 用户管理模块

#### 5.1.1 用户注册/登录
**功能描述**: 实现用户注册、登录、密码找回等功能

**实现方案**:
```java
// 涉及表: user, user_role
// 核心类: UserController, UserService, SecurityConfig

1. 注册流程:
   - 前端提交: 手机号、密码、验证码
   - 后端验证: 手机号格式、验证码有效性、手机号唯一性
   - 密码加密: BCryptPasswordEncoder
   - 默认角色: 会员用户
   - 返回: 注册成功/失败信息

2. 登录流程:
   - 前端提交: 用户名/手机号、密码
   - Spring Security认证
   - 生成JWT Token
   - 返回: Token + 用户基本信息

3. 密码找回:
   - 手机验证码验证
   - 重置密码
```

**数据库设计**:
```sql
CREATE TABLE user (
    id BIGINT PRIMARY KEY AUTO_INCREMENT,
    username VARCHAR(50) UNIQUE NOT NULL,
    password VARCHAR(255) NOT NULL,
    phone VARCHAR(11) UNIQUE NOT NULL,
    email VARCHAR(100),
    real_name VARCHAR(50),
    gender TINYINT COMMENT '0-未知,1-男,2-女',
    avatar VARCHAR(255),
    status TINYINT DEFAULT 1 COMMENT '0-禁用,1-启用',
    member_level INT DEFAULT 0 COMMENT '会员等级',
    points INT DEFAULT 0 COMMENT '积分',
    create_time DATETIME DEFAULT CURRENT_TIMESTAMP,
    update_time DATETIME DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP
);

CREATE TABLE user_role (
    id BIGINT PRIMARY KEY AUTO_INCREMENT,
    user_id BIGINT NOT NULL,
    role_id BIGINT NOT NULL,
    FOREIGN KEY (user_id) REFERENCES user(id)
);
```

**关联功能**:
- → 所有模块(作为基础功能)
- → 权限管理模块
- → 会员管理模块

---

### 5.2 场馆管理模块

#### 5.2.1 场地信息管理
**功能描述**: 管理篮球场地的基本信息、价格、开放时间等

**实现方案**:
```java
// 涉及表: venue, venue_price, venue_schedule
// 核心类: VenueController, VenueService

1. 场地CRUD:
   - 添加场地: 场地名称、类型(室内/室外)、面积、设施
   - 修改场地: 更新场地信息、状态
   - 删除场地: 逻辑删除(检查是否有未完成预订)
   - 查询场地: 列表、详情、可用场地查询

2. 价格设置:
   - 分时段定价: 高峰期/平时/节假日
   - 会员折扣
   - 包场价格

3. 场地状态:
   - 可用、维护中、已预订、不可用
   - 实时状态更新
```

**数据库设计**:
```sql
CREATE TABLE venue (
    id BIGINT PRIMARY KEY AUTO_INCREMENT,
    venue_name VARCHAR(100) NOT NULL,
    venue_type TINYINT COMMENT '1-室内全场,2-室内半场,3-室外',
    area DECIMAL(10,2) COMMENT '面积(平方米)',
    capacity INT COMMENT '容纳人数',
    facilities TEXT COMMENT '设施描述',
    status TINYINT DEFAULT 1 COMMENT '0-不可用,1-可用,2-维护中',
    image_url VARCHAR(255),
    description TEXT,
    create_time DATETIME DEFAULT CURRENT_TIMESTAMP,
    update_time DATETIME DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP
);

CREATE TABLE venue_price (
    id BIGINT PRIMARY KEY AUTO_INCREMENT,
    venue_id BIGINT NOT NULL,
    time_type TINYINT COMMENT '1-平时,2-周末,3-节假日',
    time_period VARCHAR(20) COMMENT '时段 如: 08:00-12:00',
    price DECIMAL(10,2) NOT NULL,
    member_price DECIMAL(10,2),
    FOREIGN KEY (venue_id) REFERENCES venue(id)
);
```

**关联功能**:
- → 预订管理模块(提供场地数据)
- → 课程管理模块(课程场地分配)
- → 财务管理模块(价格计算)
- ← 设备管理(场地设施)

---

### 5.3 预订管理模块

#### 5.3.1 场地预订
**功能描述**: 用户预订场地、查看预订、取消预订

**实现方案**:
```java
// 涉及表: booking, booking_detail, payment
// 核心类: BookingController, BookingService

1. 预订流程:
   - 查询可用时段: 根据日期、场地查询
   - 计算价格: 根据时段、会员等级、优惠券
   - 创建预订: 锁定时段(分布式锁-Redis)
   - 生成订单: 待支付状态
   - 支付: 调用支付接口
   - 确认预订: 支付成功后更新状态

2. 并发控制:
   - Redis分布式锁防止超订
   - 乐观锁(version字段)
   - 预订超时自动取消(定时任务)

3. 预订规则:
   - 最小预订时长: 1小时
   - 最大预订天数: 提前7天
   - 取消政策: 提前2小时免费取消
```

**数据库设计**:
```sql
CREATE TABLE booking (
    id BIGINT PRIMARY KEY AUTO_INCREMENT,
    booking_no VARCHAR(32) UNIQUE NOT NULL COMMENT '预订编号',
    user_id BIGINT NOT NULL,
    venue_id BIGINT NOT NULL,
    booking_date DATE NOT NULL,
    start_time TIME NOT NULL,
    end_time TIME NOT NULL,
    duration INT COMMENT '时长(小时)',
    total_price DECIMAL(10,2),
    actual_price DECIMAL(10,2) COMMENT '实际支付金额',
    status TINYINT COMMENT '0-待支付,1-已支付,2-已取消,3-已完成,4-已退款',
    cancel_reason VARCHAR(255),
    contact_name VARCHAR(50),
    contact_phone VARCHAR(11),
    remark TEXT,
    create_time DATETIME DEFAULT CURRENT_TIMESTAMP,
    update_time DATETIME DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
    pay_time DATETIME,
    cancel_time DATETIME,
    FOREIGN KEY (user_id) REFERENCES user(id),
    FOREIGN KEY (venue_id) REFERENCES venue(id),
    INDEX idx_date_venue (booking_date, venue_id),
    INDEX idx_user (user_id)
);
```

**关联功能**:
- ← 场馆管理模块(场地数据)
- ← 用户管理模块(用户信息、会员折扣)
- → 财务管理模块(订单支付)
- → 会员管理模块(积分累积)
- → 数据统计模块(预订统计)

---

### 5.4 课程管理模块

#### 5.4.1 课程发布与报名
**功能描述**: 教练发布课程、学员报名、课程管理

**实现方案**:
```java
// 涉及表: course, course_schedule, course_enrollment
// 核心类: CourseController, CourseService

1. 课程发布:
   - 管理员/教练创建课程
   - 设置: 课程名称、类型、人数上限、价格、时间
   - 分配教练、场地
   - 上传课程图片、介绍

2. 课程报名:
   - 查看课程列表(筛选、搜索)
   - 查看课程详情(剩余名额、评价)
   - 在线报名支付
   - 报名成功通知

3. 课程管理:
   - 签到功能(教练端)
   - 课程评价(学员端)
   - 课程取消/退款
```

**数据库设计**:
```sql
CREATE TABLE course (
    id BIGINT PRIMARY KEY AUTO_INCREMENT,
    course_name VARCHAR(100) NOT NULL,
    course_type TINYINT COMMENT '1-基础班,2-提高班,3-私教课',
    coach_id BIGINT NOT NULL,
    max_students INT DEFAULT 20,
    price DECIMAL(10,2),
    duration INT COMMENT '课时(分钟)',
    description TEXT,
    cover_image VARCHAR(255),
    status TINYINT DEFAULT 1 COMMENT '0-下架,1-上架',
    create_time DATETIME DEFAULT CURRENT_TIMESTAMP,
    FOREIGN KEY (coach_id) REFERENCES user(id)
);

CREATE TABLE course_schedule (
    id BIGINT PRIMARY KEY AUTO_INCREMENT,
    course_id BIGINT NOT NULL,
    venue_id BIGINT NOT NULL,
    schedule_date DATE NOT NULL,
    start_time TIME NOT NULL,
    end_time TIME NOT NULL,
    enrolled_count INT DEFAULT 0,
    status TINYINT COMMENT '0-未开始,1-进行中,2-已结束,3-已取消',
    FOREIGN KEY (course_id) REFERENCES course(id),
    FOREIGN KEY (venue_id) REFERENCES venue(id)
);

CREATE TABLE course_enrollment (
    id BIGINT PRIMARY KEY AUTO_INCREMENT,
    schedule_id BIGINT NOT NULL,
    user_id BIGINT NOT NULL,
    order_no VARCHAR(32),
    pay_status TINYINT DEFAULT 0,
    attendance_status TINYINT COMMENT '0-未签到,1-已签到,2-缺席',
    rating INT COMMENT '评分1-5',
    comment TEXT,
    enroll_time DATETIME DEFAULT CURRENT_TIMESTAMP,
    FOREIGN KEY (schedule_id) REFERENCES course_schedule(id),
    FOREIGN KEY (user_id) REFERENCES user(id)
);
```

**关联功能**:
- ← 场馆管理模块(课程场地)
- ← 用户管理模块(教练、学员)
- → 财务管理模块(课程收入)
- → 会员管理模块(会员专享课程)

---

### 5.5 财务管理模块

#### 5.5.1 订单与收入统计
**功能描述**: 管理所有订单、统计收入、生成财务报表

**实现方案**:
```java
// 涉及表: payment, refund, financial_report
// 核心类: PaymentController, FinancialService

1. 支付管理:
   - 集成支付接口(支付宝/微信)
   - 订单支付状态跟踪
   - 支付回调处理
   - 支付方式: 在线支付、会员卡扣费、余额支付

2. 退款管理:
   - 退款申请
   - 退款审核(管理员)
   - 自动退款(符合规则)
   - 退款记录

3. 财务统计:
   - 日/月/年收入统计
   - 收入来源分析(场地预订、课程、会员卡)
   - 教练课程收入分成
   - 导出财务报表(Excel)
```

**数据库设计**:
```sql
CREATE TABLE payment (
    id BIGINT PRIMARY KEY AUTO_INCREMENT,
    order_no VARCHAR(32) UNIQUE NOT NULL,
    order_type TINYINT COMMENT '1-场地预订,2-课程报名,3-会员卡',
    user_id BIGINT NOT NULL,
    amount DECIMAL(10,2) NOT NULL,
    pay_method TINYINT COMMENT '1-支付宝,2-微信,3-余额,4-会员卡',
    pay_status TINYINT DEFAULT 0 COMMENT '0-待支付,1-已支付,2-已退款',
    transaction_id VARCHAR(100) COMMENT '第三方交易号',
    pay_time DATETIME,
    create_time DATETIME DEFAULT CURRENT_TIMESTAMP,
    FOREIGN KEY (user_id) REFERENCES user(id),
    INDEX idx_order_no (order_no)
);

CREATE TABLE refund (
    id BIGINT PRIMARY KEY AUTO_INCREMENT,
    payment_id BIGINT NOT NULL,
    refund_amount DECIMAL(10,2),
    refund_reason VARCHAR(255),
    refund_status TINYINT COMMENT '0-申请中,1-已同意,2-已拒绝,3-已退款',
    apply_time DATETIME DEFAULT CURRENT_TIMESTAMP,
    process_time DATETIME,
    FOREIGN KEY (payment_id) REFERENCES payment(id)
);
```

**关联功能**:
- ← 预订管理模块(预订订单)
- ← 课程管理模块(课程订单)
- ← 会员管理模块(充值订单)
- → 数据统计模块(收入数据)

---

### 5.6 会员管理模块

#### 5.6.1 会员卡与积分系统
**功能描述**: 会员卡管理、积分累积与兑换

**实现方案**:
```java
// 涉及表: member_card, member_card_type, points_record
// 核心类: MemberController, MemberService

1. 会员卡管理:
   - 会员卡类型: 月卡、季卡、年卡、次卡
   - 卡片权益: 折扣、免费时段、优先预订
   - 开卡/续费
   - 余额查询

2. 积分系统:
   - 积分获取: 消费送积分、签到、邀请好友
   - 积分兑换: 抵扣、兑换商品
   - 积分过期规则
   - 积分明细

3. 会员等级:
   - 根据消费金额自动升级
   - 不同等级不同折扣
```

**数据库设计**:
```sql
CREATE TABLE member_card (
    id BIGINT PRIMARY KEY AUTO_INCREMENT,
    user_id BIGINT NOT NULL,
    card_type_id BIGINT NOT NULL,
    card_no VARCHAR(32) UNIQUE,
    balance DECIMAL(10,2) DEFAULT 0,
    remaining_times INT COMMENT '剩余次数(次卡)',
    start_date DATE,
    expire_date DATE,
    status TINYINT COMMENT '0-未激活,1-有效,2-已过期,3-已冻结',
    create_time DATETIME DEFAULT CURRENT_TIMESTAMP,
    FOREIGN KEY (user_id) REFERENCES user(id)
);

CREATE TABLE member_card_type (
    id BIGINT PRIMARY KEY AUTO_INCREMENT,
    card_name VARCHAR(50) NOT NULL,
    card_type TINYINT COMMENT '1-时间卡,2-次卡',
    duration INT COMMENT '有效期(天)',
    times INT COMMENT '可用次数',
    price DECIMAL(10,2),
    discount DECIMAL(3,2) COMMENT '折扣率',
    description TEXT
);

CREATE TABLE points_record (
    id BIGINT PRIMARY KEY AUTO_INCREMENT,
    user_id BIGINT NOT NULL,
    points INT NOT NULL COMMENT '正数为获得,负数为消费',
    type TINYINT COMMENT '1-消费,2-兑换,3-签到,4-活动',
    related_order VARCHAR(32),
    remark VARCHAR(255),
    create_time DATETIME DEFAULT CURRENT_TIMESTAMP,
    FOREIGN KEY (user_id) REFERENCES user(id)
);
```

**关联功能**:
- ← 用户管理模块(会员信息)
- → 预订管理模块(会员折扣)
- → 课程管理模块(会员专享)
- ← 财务管理模块(充值支付)

---

### 5.7 公告管理模块

**功能描述**: 发布系统公告、场馆通知

**实现方案**:
```java
// 涉及表: announcement
// 核心类: AnnouncementController, AnnouncementService

1. 公告发布(管理员):
   - 标题、内容、类型(通知/活动/维护)
   - 发布时间、过期时间
   - 置顶、轮播

2. 公告查看:
   - 首页展示最新公告
   - 公告列表(分页)
   - 公告详情
```

**数据库设计**:
```sql
CREATE TABLE announcement (
    id BIGINT PRIMARY KEY AUTO_INCREMENT,
    title VARCHAR(200) NOT NULL,
    content TEXT,
    type TINYINT COMMENT '1-通知,2-活动,3-维护公告',
    publisher_id BIGINT,
    is_top TINYINT DEFAULT 0,
    status TINYINT DEFAULT 1 COMMENT '0-下架,1-发布',
    view_count INT DEFAULT 0,
    publish_time DATETIME,
    expire_time DATETIME,
    create_time DATETIME DEFAULT CURRENT_TIMESTAMP
);
```

---

### 5.8 数据统计模块

**功能描述**: 多维度数据统计与可视化

**实现方案**:
```java
// 涉及表: 复用其他模块数据表
// 核心类: StatisticsController, StatisticsService

1. 场馆统计:
   - 场地使用率(按日/周/月)
   - 各场地预订次数排行
   - 高峰时段分析

2. 用户统计:
   - 新增用户趋势
   - 用户活跃度
   - 会员转化率

3. 收入统计:
   - 收入趋势图
   - 收入来源占比
   - 教练收入排行

4. 图表展示:
   - 使用ECharts展示数据
   - 导出统计报表
```

**关键SQL示例**:
```sql
-- 场地使用率统计
SELECT
    v.venue_name,
    COUNT(b.id) as booking_count,
    SUM(b.duration) as total_hours,
    DATE(b.booking_date) as date
FROM venue v
LEFT JOIN booking b ON v.id = b.venue_id
WHERE b.status = 3 -- 已完成
GROUP BY v.id, DATE(b.booking_date);

-- 收入统计
SELECT
    DATE(pay_time) as date,
    order_type,
    SUM(amount) as total_amount
FROM payment
WHERE pay_status = 1
GROUP BY DATE(pay_time), order_type;
```

---

## 6. 技术实现要点

### 6.1 后端架构

```
basketball-system
├── src/main/java/com/basketball
│   ├── config              # 配置类
│   │   ├── SecurityConfig.java
│   │   ├── RedisConfig.java
│   │   ├── SwaggerConfig.java
│   │   └── MyBatisPlusConfig.java
│   ├── controller          # 控制层
│   │   ├── UserController.java
│   │   ├── VenueController.java
│   │   ├── BookingController.java
│   │   └── ...
│   ├── service             # 服务层
│   │   ├── impl
│   │   └── interfaces
│   ├── mapper              # 数据访问层
│   ├── entity              # 实体类
│   ├── dto                 # 数据传输对象
│   ├── vo                  # 视图对象
│   ├── common              # 通用类
│   │   ├── Result.java     # 统一返回结果
│   │   ├── PageResult.java # 分页结果
│   │   └── exception       # 异常处理
│   ├── utils               # 工具类
│   │   ├── JwtUtil.java
│   │   ├── RedisUtil.java
│   │   └── DateUtil.java
│   └── BasketballApplication.java
└── src/main/resources
    ├── mapper              # MyBatis XML
    ├── application.yml
    └── application-dev.yml
```

### 6.2 核心技术点

#### 6.2.1 统一返回格式
```java
@Data
public class Result<T> {
    private Integer code;
    private String message;
    private T data;

    public static <T> Result<T> success(T data) {
        Result<T> result = new Result<>();
        result.setCode(200);
        result.setMessage("success");
        result.setData(data);
        return result;
    }

    public static <T> Result<T> error(String message) {
        Result<T> result = new Result<>();
        result.setCode(500);
        result.setMessage(message);
        return result;
    }
}
```

#### 6.2.2 JWT认证
```java
@Component
public class JwtUtil {
    private String secret = "basketball_secret_key";
    private long expiration = 604800; // 7天

    public String generateToken(String username) {
        return Jwts.builder()
            .setSubject(username)
            .setExpiration(new Date(System.currentTimeMillis() + expiration * 1000))
            .signWith(SignatureAlgorithm.HS512, secret)
            .compact();
    }

    public boolean validateToken(String token) {
        // 验证逻辑
    }
}
```

#### 6.2.3 预订并发控制
```java
@Service
public class BookingService {
    @Autowired
    private RedisTemplate redisTemplate;

    @Transactional
    public Result createBooking(BookingDTO dto) {
        String lockKey = "booking_lock_" + dto.getVenueId() + "_" + dto.getDate();
        Boolean lock = redisTemplate.opsForValue()
            .setIfAbsent(lockKey, "1", 10, TimeUnit.SECONDS);

        if (!lock) {
            return Result.error("系统繁忙，请稍后重试");
        }

        try {
            // 检查时段是否可用
            // 创建预订记录
            // 返回结果
        } finally {
            redisTemplate.delete(lockKey);
        }
    }
}
```

### 6.3 前端架构(Vue3示例)

```
basketball-web
├── src
│   ├── api                 # API接口
│   │   ├── user.js
│   │   ├── venue.js
│   │   └── booking.js
│   ├── components          # 公共组件
│   ├── views               # 页面
│   │   ├── Home.vue
│   │   ├── Login.vue
│   │   ├── Booking.vue
│   │   └── admin           # 管理端
│   ├── router              # 路由
│   ├── store               # Vuex状态管理
│   ├── utils               # 工具
│   │   ├── request.js      # axios封装
│   │   └── auth.js
│   └── App.vue
```

---

## 7. 开发流程建议

### 7.1 第一阶段: 基础搭建(1周)
- [ ] 搭建SpringBoot项目
- [ ] 数据库设计与建表
- [ ] 集成MyBatis-Plus
- [ ] 配置Swagger API文档
- [ ] 前端项目初始化

### 7.2 第二阶段: 核心功能(3周)
- [ ] 用户注册登录模块
- [ ] JWT认证实现
- [ ] 场馆管理CRUD
- [ ] 场地预订功能
- [ ] 订单支付模拟

### 7.3 第三阶段: 扩展功能(2周)
- [ ] 课程管理模块
- [ ] 会员卡系统
- [ ] 积分系统
- [ ] 公告管理

### 7.4 第四阶段: 完善优化(1周)
- [ ] 数据统计图表
- [ ] 系统测试
- [ ] 性能优化
- [ ] 文档完善

---

## 8. 接口设计示例

### 8.1 用户登录
```
POST /api/user/login
Request:
{
    "username": "user001",
    "password": "123456"
}

Response:
{
    "code": 200,
    "message": "success",
    "data": {
        "token": "eyJhbGciOiJIUzUxMiJ9...",
        "userInfo": {
            "id": 1,
            "username": "user001",
            "realName": "张三",
            "role": "MEMBER"
        }
    }
}
```

### 8.2 场地预订
```
POST /api/booking/create
Headers: Authorization: Bearer {token}
Request:
{
    "venueId": 1,
    "bookingDate": "2025-10-15",
    "startTime": "14:00",
    "endTime": "16:00",
    "contactName": "张三",
    "contactPhone": "13800138000"
}

Response:
{
    "code": 200,
    "message": "预订成功",
    "data": {
        "bookingNo": "BK202510150001",
        "totalPrice": 200.00,
        "paymentUrl": "..."
    }
}
```

---

## 9. 测试要点

### 9.1 单元测试
- 用户注册逻辑测试
- 价格计算测试
- 时段冲突检测测试

### 9.2 集成测试
- 预订流程完整测试
- 支付回调测试
- 退款流程测试

### 9.3 性能测试
- 并发预订压力测试
- 接口响应时间测试

---

## 10. 部署方案

### 10.1 开发环境
- JDK 1.8+
- MySQL 5.7+
- Redis 6.0+
- Maven 3.6+

### 10.2 生产部署
```bash
# 后端打包
mvn clean package

# 运行
java -jar basketball-system.jar --spring.profiles.active=prod

# 前端打包
npm run build

# Nginx配置
server {
    listen 80;
    server_name basketball.example.com;

    location / {
        root /var/www/basketball-web;
        try_files $uri $uri/ /index.html;
    }

    location /api {
        proxy_pass http://localhost:8080;
    }
}
```

---

## 11. 毕设答辩要点

### 11.1 系统亮点
1. **分布式锁**: 使用Redis解决预订并发问题
2. **JWT无状态认证**: 提高系统可扩展性
3. **多角色权限管理**: 灵活的RBAC权限模型
4. **数据可视化**: ECharts展示运营数据
5. **支付集成**: 模拟真实支付流程

### 11.2 可扩展性
- 支持多场馆扩展
- 支持小程序接入
- 支持智能门禁集成
- 支持人脸识别签到

---

## 12. 参考资料

### 12.1 技术文档
- Spring Boot官方文档: https://spring.io/projects/spring-boot
- MyBatis-Plus文档: https://baomidou.com/
- Vue3官方文档: https://cn.vuejs.org/

### 12.2 类似系统
- 体育场馆预订系统
- 健身房管理系统
- 会议室预订系统

---

**文档版本**: v1.0
**创建日期**: 2025-09-30
**适用对象**: 计算机专业本科毕业设计

---

## 附录: 快速开始清单

✅ 开发准备
- [ ] 安装开发工具(IDEA, VSCode)
- [ ] 安装数据库(MySQL, Redis)
- [ ] 创建数据库和表
- [ ] 配置application.yml

✅ 第一个功能
- [ ] 实现用户注册接口
- [ ] 实现用户登录接口
- [ ] 前端登录页面
- [ ] 测试登录流程

✅ 核心功能
- [ ] 场地列表展示
- [ ] 场地预订功能
- [ ] 订单管理

✅ 文档准备
- [ ] 需求分析文档
- [ ] 数据库设计文档
- [ ] 接口文档(Swagger)
- [ ] 测试报告
- [ ] 用户手册

---

祝你毕设顺利！💪