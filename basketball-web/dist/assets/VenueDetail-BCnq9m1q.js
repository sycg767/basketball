import{_ as J,j as K,r as _,$ as z,t as O,d as r,e as a,a3 as I,a4 as Q,g as p,F as w,a as n,f as u,c as y,a6 as W,E as N,m as X,o as i,b as t,x as M,z as Y,B as o,i as d}from"./index-zUzrFZpX.js";import{a as Z,b as ee}from"./venue-BrYgpQev.js";import{B as te}from"./BackButton-BCA-o-ra.js";const se={class:"venue-detail-container"},le={class:"detail-content"},ae={class:"card-header"},ne={class:"venue-images"},oe={key:0,class:"thumbnail-list"},ie=["onClick"],re={class:"venue-info-detail"},ue={class:"venue-name"},ce={class:"venue-code"},de={class:"info-row"},ve={class:"info-row"},_e={class:"info-row"},pe={class:"info-row"},me={class:"info-row"},fe={key:0,class:"info-row"},ye={class:"facilities"},ge={key:1,class:"info-row"},be={class:"description"},he={class:"action-buttons"},ke={key:0,class:"price-list"},we={class:"price"},Be={class:"member-price"},P="https://via.placeholder.com/600x400?text=Basketball+Court",Ce={__name:"VenueDetail",setup(Te){const E=W(),B=X();K();const g=_(!1),b=_(!1),s=_(null),h=_([]),m=_(""),U={1:"室内全场",2:"室内半场",3:"室外全场",4:"室外半场"},$={1:"工作日",2:"周末",3:"节假日"},f=z(()=>s.value?s.value.imageList&&s.value.imageList.length>0?s.value.imageList:s.value.imageUrl?[s.value.imageUrl]:[P]:[P]),F=z(()=>!s.value||!s.value.facilities?[]:s.value.facilities.split(",").filter(c=>c.trim())),R=async()=>{const c=E.params.id;if(!c){N.error("场地ID不存在"),B.back();return}g.value=!0;try{const e=await Z(c);e.code===200&&(s.value=e.data,m.value=f.value[0],S(c))}catch(e){console.error("获取场地详情失败：",e),N.error("获取场地详情失败")}finally{g.value=!1}},S=async c=>{b.value=!0;try{const e=await ee(c);e.code===200&&(h.value=e.data||[])}catch(e){console.error("获取价格信息失败：",e)}finally{b.value=!1}},j=()=>{B.push(`/booking/create/${s.value.id}`)};return O(()=>{R()}),(c,e)=>{const k=u("el-tag"),C=u("el-image"),T=u("el-col"),V=u("el-divider"),D=u("el-button"),q=u("el-row"),x=u("el-card"),v=u("el-table-column"),A=u("el-table"),G=u("el-empty"),L=Q("loading");return i(),r("div",se,[a(te,{text:"返回列表"}),I((i(),r("div",le,[s.value?(i(),r(w,{key:0},[a(x,{class:"info-card",shadow:"never"},{header:n(()=>[t("div",ae,[e[0]||(e[0]=t("span",null,"场地信息",-1)),a(k,{type:s.value.status===1?"success":"danger"},{default:n(()=>[d(o(s.value.status===1?"可用":"维护中"),1)]),_:1},8,["type"])])]),default:n(()=>[a(q,{gutter:20},{default:n(()=>[a(T,{span:12},{default:n(()=>[t("div",ne,[a(C,{src:m.value,"preview-src-list":f.value,fit:"cover",class:"main-image"},null,8,["src","preview-src-list"]),f.value.length>1?(i(),r("div",oe,[(i(!0),r(w,null,M(f.value,(l,H)=>(i(),r("div",{key:H,class:Y(["thumbnail-item",{active:m.value===l}]),onClick:Ve=>m.value=l},[a(C,{src:l,fit:"cover"},null,8,["src"])],10,ie))),128))])):p("",!0)])]),_:1}),a(T,{span:12},{default:n(()=>[t("div",re,[t("h2",ue,o(s.value.venueName),1),t("p",ce,"场地编码："+o(s.value.venueCode),1),a(V),t("div",de,[e[1]||(e[1]=t("label",null,"场地类型：",-1)),t("span",null,o(U[s.value.venueType]||s.value.venueType),1)]),t("div",ve,[e[2]||(e[2]=t("label",null,"场地位置：",-1)),t("span",null,o(s.value.location||"未设置"),1)]),t("div",_e,[e[3]||(e[3]=t("label",null,"场地面积：",-1)),t("span",null,o(s.value.area)+"㎡",1)]),t("div",pe,[e[4]||(e[4]=t("label",null,"可容纳人数：",-1)),t("span",null,o(s.value.capacity)+"人",1)]),t("div",me,[e[5]||(e[5]=t("label",null,"地面类型：",-1)),t("span",null,o(s.value.floorType||"未设置"),1)]),s.value.facilities?(i(),r("div",fe,[e[6]||(e[6]=t("label",null,"场地设施：",-1)),t("div",ye,[(i(!0),r(w,null,M(F.value,l=>(i(),y(k,{key:l,size:"small",type:"info"},{default:n(()=>[d(o(l),1)]),_:2},1024))),128))])])):p("",!0),s.value.description?(i(),r("div",ge,[e[7]||(e[7]=t("label",null,"场地描述：",-1)),t("p",be,o(s.value.description),1)])):p("",!0),a(V),t("div",he,[s.value.status===1?(i(),y(D,{key:0,type:"primary",size:"large",onClick:j},{default:n(()=>[...e[8]||(e[8]=[d(" 立即预订 ",-1)])]),_:1})):p("",!0),a(D,{size:"large",onClick:c.handleBack},{default:n(()=>[...e[9]||(e[9]=[d(" 返回列表 ",-1)])]),_:1},8,["onClick"])])])]),_:1})]),_:1})]),_:1}),I((i(),y(x,{class:"price-card",shadow:"never"},{header:n(()=>[...e[10]||(e[10]=[t("span",null,"价格信息",-1)])]),default:n(()=>[h.value.length>0?(i(),r("div",ke,[a(A,{data:h.value,border:"",stripe:""},{default:n(()=>[a(v,{label:"时段类型",width:"120"},{default:n(({row:l})=>[d(o($[l.timeType]||l.timeType),1)]),_:1}),a(v,{prop:"timePeriod",label:"时段名称",width:"150"}),a(v,{label:"时间段",width:"200"},{default:n(({row:l})=>[d(o(l.startTime)+" - "+o(l.endTime),1)]),_:1}),a(v,{label:"标准价格",width:"120"},{default:n(({row:l})=>[t("span",we,"¥"+o(l.price)+"/小时",1)]),_:1}),a(v,{label:"会员价格",width:"120"},{default:n(({row:l})=>[t("span",Be,"¥"+o(l.memberPrice)+"/小时",1)]),_:1}),a(v,{prop:"status",label:"状态",width:"100"},{default:n(({row:l})=>[a(k,{type:l.status===1?"success":"info",size:"small"},{default:n(()=>[d(o(l.status===1?"启用":"禁用"),1)]),_:2},1032,["type"])]),_:1})]),_:1},8,["data"])])):(i(),y(G,{key:1,description:"暂无价格配置"}))]),_:1})),[[L,b.value]])],64)):p("",!0)])),[[L,g.value]])])}}},ze=J(Ce,[["__scopeId","data-v-0256c002"]]);export{ze as default};
