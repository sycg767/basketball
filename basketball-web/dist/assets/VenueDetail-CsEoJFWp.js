import{_ as O,j as Q,r as _,$ as I,t as W,d as u,e as a,a3 as N,a as n,f as r,a4 as X,g as p,F as C,c as g,a6 as Y,E as M,m as Z,o as i,b as t,x as P,z as ee,B as o,i as d}from"./index-Oskx-env.js";import{a as te,b as se}from"./venue-Dxbn2MiK.js";const le={class:"venue-detail-container"},ae={class:"detail-content"},ne={class:"card-header"},oe={class:"venue-images"},ie={key:0,class:"thumbnail-list"},re=["onClick"],ue={class:"venue-info-detail"},ce={class:"venue-name"},de={class:"venue-code"},ve={class:"info-row"},_e={class:"info-row"},pe={class:"info-row"},me={class:"info-row"},fe={class:"info-row"},ge={key:0,class:"info-row"},be={class:"facilities"},ye={key:1,class:"info-row"},he={class:"description"},ke={class:"action-buttons"},we={key:0,class:"price-list"},Ce={class:"price"},Te={class:"member-price"},E="https://via.placeholder.com/600x400?text=Basketball+Court",Ve={__name:"VenueDetail",setup(Be){const U=Y(),b=Z();Q();const y=_(!1),h=_(!1),s=_(null),k=_([]),m=_(""),$={1:"室内全场",2:"室内半场",3:"室外全场",4:"室外半场"},F={1:"工作日",2:"周末",3:"节假日"},f=I(()=>s.value?s.value.imageList&&s.value.imageList.length>0?s.value.imageList:s.value.imageUrl?[s.value.imageUrl]:[E]:[E]),R=I(()=>!s.value||!s.value.facilities?[]:s.value.facilities.split(",").filter(c=>c.trim())),S=async()=>{const c=U.params.id;if(!c){M.error("场地ID不存在"),b.back();return}y.value=!0;try{const e=await te(c);e.code===200&&(s.value=e.data,m.value=f.value[0],j(c))}catch(e){console.error("获取场地详情失败：",e),M.error("获取场地详情失败")}finally{y.value=!1}},j=async c=>{h.value=!0;try{const e=await se(c);e.code===200&&(k.value=e.data||[])}catch(e){console.error("获取价格信息失败：",e)}finally{h.value=!1}},T=()=>{b.back()},q=()=>{b.push(`/booking/create/${s.value.id}`)};return W(()=>{S()}),(c,e)=>{const A=r("el-page-header"),w=r("el-tag"),V=r("el-image"),B=r("el-col"),D=r("el-divider"),x=r("el-button"),G=r("el-row"),L=r("el-card"),v=r("el-table-column"),H=r("el-table"),J=r("el-empty"),z=X("loading");return i(),u("div",le,[a(A,{onBack:T,title:"返回"},{content:n(()=>[...e[0]||(e[0]=[t("span",{class:"page-title"},"场地详情",-1)])]),_:1}),N((i(),u("div",ae,[s.value?(i(),u(C,{key:0},[a(L,{class:"info-card",shadow:"never"},{header:n(()=>[t("div",ne,[e[1]||(e[1]=t("span",null,"场地信息",-1)),a(w,{type:s.value.status===1?"success":"danger"},{default:n(()=>[d(o(s.value.status===1?"可用":"维护中"),1)]),_:1},8,["type"])])]),default:n(()=>[a(G,{gutter:20},{default:n(()=>[a(B,{span:12},{default:n(()=>[t("div",oe,[a(V,{src:m.value,"preview-src-list":f.value,fit:"cover",class:"main-image"},null,8,["src","preview-src-list"]),f.value.length>1?(i(),u("div",ie,[(i(!0),u(C,null,P(f.value,(l,K)=>(i(),u("div",{key:K,class:ee(["thumbnail-item",{active:m.value===l}]),onClick:De=>m.value=l},[a(V,{src:l,fit:"cover"},null,8,["src"])],10,re))),128))])):p("",!0)])]),_:1}),a(B,{span:12},{default:n(()=>[t("div",ue,[t("h2",ce,o(s.value.venueName),1),t("p",de,"场地编码："+o(s.value.venueCode),1),a(D),t("div",ve,[e[2]||(e[2]=t("label",null,"场地类型：",-1)),t("span",null,o($[s.value.venueType]||s.value.venueType),1)]),t("div",_e,[e[3]||(e[3]=t("label",null,"场地位置：",-1)),t("span",null,o(s.value.location||"未设置"),1)]),t("div",pe,[e[4]||(e[4]=t("label",null,"场地面积：",-1)),t("span",null,o(s.value.area)+"㎡",1)]),t("div",me,[e[5]||(e[5]=t("label",null,"可容纳人数：",-1)),t("span",null,o(s.value.capacity)+"人",1)]),t("div",fe,[e[6]||(e[6]=t("label",null,"地面类型：",-1)),t("span",null,o(s.value.floorType||"未设置"),1)]),s.value.facilities?(i(),u("div",ge,[e[7]||(e[7]=t("label",null,"场地设施：",-1)),t("div",be,[(i(!0),u(C,null,P(R.value,l=>(i(),g(w,{key:l,size:"small",type:"info"},{default:n(()=>[d(o(l),1)]),_:2},1024))),128))])])):p("",!0),s.value.description?(i(),u("div",ye,[e[8]||(e[8]=t("label",null,"场地描述：",-1)),t("p",he,o(s.value.description),1)])):p("",!0),a(D),t("div",ke,[s.value.status===1?(i(),g(x,{key:0,type:"primary",size:"large",onClick:q},{default:n(()=>[...e[9]||(e[9]=[d(" 立即预订 ",-1)])]),_:1})):p("",!0),a(x,{size:"large",onClick:T},{default:n(()=>[...e[10]||(e[10]=[d(" 返回列表 ",-1)])]),_:1})])])]),_:1})]),_:1})]),_:1}),N((i(),g(L,{class:"price-card",shadow:"never"},{header:n(()=>[...e[11]||(e[11]=[t("span",null,"价格信息",-1)])]),default:n(()=>[k.value.length>0?(i(),u("div",we,[a(H,{data:k.value,border:"",stripe:""},{default:n(()=>[a(v,{label:"时段类型",width:"120"},{default:n(({row:l})=>[d(o(F[l.timeType]||l.timeType),1)]),_:1}),a(v,{prop:"timePeriod",label:"时段名称",width:"150"}),a(v,{label:"时间段",width:"200"},{default:n(({row:l})=>[d(o(l.startTime)+" - "+o(l.endTime),1)]),_:1}),a(v,{label:"标准价格",width:"120"},{default:n(({row:l})=>[t("span",Ce,"¥"+o(l.price)+"/小时",1)]),_:1}),a(v,{label:"会员价格",width:"120"},{default:n(({row:l})=>[t("span",Te,"¥"+o(l.memberPrice)+"/小时",1)]),_:1}),a(v,{prop:"status",label:"状态",width:"100"},{default:n(({row:l})=>[a(w,{type:l.status===1?"success":"info",size:"small"},{default:n(()=>[d(o(l.status===1?"启用":"禁用"),1)]),_:2},1032,["type"])]),_:1})]),_:1},8,["data"])])):(i(),g(J,{key:1,description:"暂无价格配置"}))]),_:1})),[[z,h.value]])],64)):p("",!0)])),[[z,y.value]])])}}},ze=O(Ve,[["__scopeId","data-v-3c9c3f0b"]]);export{ze as default};
