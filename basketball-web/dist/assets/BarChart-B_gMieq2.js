import{i as u}from"./index-D5fw03LZ.js";import{r as f,t as p,v as c,w as m,d as y,o as x,am as g}from"./index-zUzrFZpX.js";const v={__name:"BarChart",props:{width:{type:String,default:"100%"},height:{type:String,default:"400px"},data:{type:Object,required:!0},title:{type:String,default:""},yAxisName:{type:String,default:""},horizontal:{type:Boolean,default:!1},stack:{type:Boolean,default:!1}},setup(i,{expose:d}){const e=i,n=f(null);let t=null;p(()=>{h(),window.addEventListener("resize",o)}),c(()=>{t&&(t.dispose(),t=null),window.removeEventListener("resize",o)}),m(()=>e.data,()=>{s()},{deep:!0});const h=()=>{n.value&&(t=u(n.value),s())},s=()=>{var r;if(!t||!e.data)return;const l={title:{text:e.title,left:"center",textStyle:{fontSize:16,fontWeight:500}},tooltip:{trigger:"axis",axisPointer:{type:"shadow"}},legend:{top:e.title?35:10,data:((r=e.data.series)==null?void 0:r.map(a=>a.name))||[]},grid:{left:"3%",right:"4%",bottom:"3%",top:e.title?70:45,containLabel:!0},xAxis:{type:e.horizontal?"value":"category",data:e.horizontal?void 0:e.data.xAxisData||[],name:e.horizontal?e.yAxisName:""},yAxis:{type:e.horizontal?"category":"value",data:e.horizontal?e.data.xAxisData||[]:void 0,name:e.horizontal?"":e.yAxisName},series:(e.data.series||[]).map(a=>({name:a.name,type:"bar",data:a.data,stack:e.stack?"total":void 0,label:{show:!1},emphasis:{label:{show:!0}}}))};t.setOption(l,!0)},o=()=>{t&&t.resize()};return d({resize:o}),(l,r)=>(x(),y("div",{ref_key:"chartRef",ref:n,style:g({width:i.width,height:i.height})},null,4))}};export{v as _};
