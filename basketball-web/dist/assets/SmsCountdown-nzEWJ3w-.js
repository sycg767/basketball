import{s as a}from"./request-CZtBzr0V.js";import{_ as g,r as u,M as h,f as _,c as b,o as w,a as x,i as C,y,N as S}from"./index-DfALJeeI.js";function P(e){return a({url:"/api/sms/send",method:"post",data:e})}function T(e){return a({url:"/api/auth/phone/login",method:"post",data:e})}function $(){return a({url:"/api/wechat/auth/url",method:"get"})}const B={__name:"SmsCountdown",props:{countdown:{type:Number,default:60},disabled:{type:Boolean,default:!1},loading:{type:Boolean,default:!1},text:{type:String,default:"发送验证码"}},emits:["send"],setup(e,{expose:r,emit:d}){const s=e,c=d,n=u(!1),t=u(0);let o=null;const i=h(()=>n.value?`${t.value}秒后重新发送`:s.text),p=()=>{c("send")},m=()=>{n.value=!0,t.value=s.countdown,o=setInterval(()=>{t.value--,t.value<=0&&l()},1e3)},l=()=>{n.value=!1,t.value=0,o&&(clearInterval(o),o=null)};return r({startCountdown:m,stopCountdown:l}),(f,k)=>{const v=_("el-button");return w(),b(v,S({disabled:n.value||e.disabled,loading:e.loading,onClick:p},f.$attrs),{default:x(()=>[C(y(i.value),1)]),_:1},16,["disabled","loading"])}}},A=g(B,[["__scopeId","data-v-1ed5a800"]]);export{A as S,$ as g,T as l,P as s};
