import{_ as $,k as O,r as L,t as q,d as f,b as s,e,c as T,a as o,f as i,F as A,x as G,E as H,m as J,o as u,i as c,u as v,a9 as K,B as r,I as Q,P as W,U as X,g as Y,V as Z}from"./index-Oskx-env.js";import{g as ee}from"./course-BGACOeVb.js";const te={class:"course-list-container"},le={class:"page-header"},se={class:"course-grid"},oe={class:"course-cover"},ae={class:"image-slot"},ne={class:"course-type-tag"},ie={class:"course-info"},re={class:"course-name"},de={class:"course-meta"},ce={class:"meta-item"},ue={class:"meta-item"},pe={class:"meta-item"},_e={class:"course-detail"},me={class:"detail-item"},fe={class:"detail-item"},ve={class:"detail-item"},ge={class:"course-footer"},ye={class:"price-info"},be={class:"price"},Ce={key:0,class:"member-price"},ke={key:0,class:"pagination-container"},he={__name:"CourseList",setup(Ve){const M=J(),n=O({keyword:"",courseType:"",difficultyLevel:"",page:1,size:12}),k=L([]),g=L(0),y=async()=>{try{const{data:a}=await ee(n);k.value=a.records||[],g.value=a.total||0}catch(a){console.error("获取课程列表失败:",a),H.error("获取课程列表失败")}},p=()=>{n.page=1,y()},x=()=>{Object.assign(n,{keyword:"",courseType:"",difficultyLevel:"",page:1,size:12}),y()},h=a=>{M.push(`/course/${a}`)},S=a=>({1:"基础班",2:"提高班",3:"专业班",4:"私教课"})[a]||"未知",N=a=>({1:"success",2:"primary",3:"warning",4:"danger"})[a]||"info",U=a=>({1:"入门",2:"初级",3:"中级",4:"高级"})[a]||"未知",B=a=>({1:"success",2:"primary",3:"warning",4:"danger"})[a]||"info";return q(()=>{y()}),(a,t)=>{const b=i("el-breadcrumb-item"),D=i("el-breadcrumb"),P=i("el-input"),_=i("el-form-item"),d=i("el-option"),V=i("el-select"),C=i("el-button"),j=i("el-form"),z=i("el-card"),m=i("el-icon"),E=i("el-image"),w=i("el-tag"),F=i("el-pagination"),I=i("el-empty");return u(),f("div",te,[s("div",le,[t[8]||(t[8]=s("h2",null,"课程列表",-1)),e(D,{separator:"/"},{default:o(()=>[e(b,{to:{path:"/"}},{default:o(()=>[...t[5]||(t[5]=[c("首页",-1)])]),_:1}),e(b,null,{default:o(()=>[...t[6]||(t[6]=[c("课程管理",-1)])]),_:1}),e(b,null,{default:o(()=>[...t[7]||(t[7]=[c("课程列表",-1)])]),_:1})]),_:1})]),e(z,{class:"filter-card"},{default:o(()=>[e(j,{inline:!0,model:n,class:"search-form"},{default:o(()=>[e(_,{label:"课程名称"},{default:o(()=>[e(P,{modelValue:n.keyword,"onUpdate:modelValue":t[0]||(t[0]=l=>n.keyword=l),placeholder:"请输入课程名称",clearable:"",onClear:p},null,8,["modelValue"])]),_:1}),e(_,{label:"课程类型"},{default:o(()=>[e(V,{modelValue:n.courseType,"onUpdate:modelValue":t[1]||(t[1]=l=>n.courseType=l),placeholder:"请选择类型",clearable:""},{default:o(()=>[e(d,{label:"全部",value:""}),e(d,{label:"基础班",value:1}),e(d,{label:"提高班",value:2}),e(d,{label:"专业班",value:3}),e(d,{label:"私教课",value:4})]),_:1},8,["modelValue"])]),_:1}),e(_,{label:"难度等级"},{default:o(()=>[e(V,{modelValue:n.difficultyLevel,"onUpdate:modelValue":t[2]||(t[2]=l=>n.difficultyLevel=l),placeholder:"请选择难度",clearable:""},{default:o(()=>[e(d,{label:"全部",value:""}),e(d,{label:"入门",value:1}),e(d,{label:"初级",value:2}),e(d,{label:"中级",value:3}),e(d,{label:"高级",value:4})]),_:1},8,["modelValue"])]),_:1}),e(_,null,{default:o(()=>[e(C,{type:"primary",icon:"Search",onClick:p},{default:o(()=>[...t[9]||(t[9]=[c("搜索",-1)])]),_:1}),e(C,{icon:"Refresh",onClick:x},{default:o(()=>[...t[10]||(t[10]=[c("重置",-1)])]),_:1})]),_:1})]),_:1},8,["model"])]),_:1}),s("div",se,[(u(!0),f(A,null,G(k.value,l=>(u(),T(z,{key:l.id,class:"course-card",shadow:"hover",onClick:R=>h(l.id)},{default:o(()=>[s("div",oe,[e(E,{src:l.coverImage||"/images/default-course.jpg",fit:"cover",class:"cover-image"},{error:o(()=>[s("div",ae,[e(m,null,{default:o(()=>[e(v(K))]),_:1})])]),_:1},8,["src"]),s("div",ne,[e(w,{type:N(l.courseType),size:"small"},{default:o(()=>[c(r(S(l.courseType)),1)]),_:2},1032,["type"])])]),s("div",ie,[s("h3",re,r(l.courseName),1),s("div",de,[s("div",ce,[e(m,null,{default:o(()=>[e(v(Q))]),_:1}),s("span",null,r(l.coachName),1)]),s("div",ue,[e(m,null,{default:o(()=>[e(v(W))]),_:1}),s("span",null,r(l.rating||"5.0"),1)]),s("div",pe,[e(m,null,{default:o(()=>[e(v(X))]),_:1}),s("span",null,r(l.viewCount||0),1)])]),s("div",_e,[s("div",me,[t[11]||(t[11]=s("span",{class:"label"},"难度：",-1)),e(w,{type:B(l.difficultyLevel),size:"small"},{default:o(()=>[c(r(U(l.difficultyLevel)),1)]),_:2},1032,["type"])]),s("div",fe,[t[12]||(t[12]=s("span",{class:"label"},"人数：",-1)),s("span",null,r(l.minStudents)+"-"+r(l.maxStudents)+"人",1)]),s("div",ve,[t[13]||(t[13]=s("span",{class:"label"},"时长：",-1)),s("span",null,r(l.duration)+"分钟/节",1)])]),s("div",ge,[s("div",ye,[s("span",be,"¥"+r(l.price),1),l.memberPrice?(u(),f("span",Ce," 会员价 ¥"+r(l.memberPrice),1)):Y("",!0)]),e(C,{type:"primary",size:"small",onClick:Z(R=>h(l.id),["stop"])},{default:o(()=>[...t[14]||(t[14]=[c(" 查看详情 ",-1)])]),_:1},8,["onClick"])])])]),_:2},1032,["onClick"]))),128))]),g.value>0?(u(),f("div",ke,[e(F,{"current-page":n.page,"onUpdate:currentPage":t[3]||(t[3]=l=>n.page=l),"page-size":n.size,"onUpdate:pageSize":t[4]||(t[4]=l=>n.size=l),total:g.value,"page-sizes":[6,12,24,48],layout:"total, sizes, prev, pager, next, jumper",onSizeChange:p,onCurrentChange:p},null,8,["current-page","page-size","total"])])):(u(),T(I,{key:1,description:"暂无课程数据"}))])}}},Le=$(he,[["__scopeId","data-v-60320945"]]);export{Le as default};
