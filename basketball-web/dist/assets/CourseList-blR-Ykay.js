import{_ as P,j as R,r as w,n as I,d as f,e,b as s,c as L,a,f as i,F as q,q as J,E as O,k as X,o as d,i as u,u as v,X as Y,y as r,J as Z,Y as A,Z as G,g as H,$ as K}from"./index-Do8XCnNk.js";import{g as Q}from"./course-BWyvoKQ-.js";import"./request-fDvtbK_n.js";const W={class:"course-list-container"},ee={class:"course-grid"},te={class:"course-cover"},le={class:"image-slot"},se={class:"course-type-tag"},ae={class:"course-info"},oe={class:"course-name"},ne={class:"course-meta"},ie={class:"meta-item"},re={class:"meta-item"},ce={class:"meta-item"},de={class:"course-detail"},ue={class:"detail-item"},pe={class:"detail-item"},_e={class:"detail-item"},me={class:"course-footer"},fe={class:"price-info"},ve={class:"price"},ge={key:0,class:"member-price"},ye={key:0,class:"pagination-container"},be={__name:"CourseList",setup(Ce){const T=X(),n=R({keyword:"",courseType:"",difficultyLevel:"",page:1,size:12}),C=w([]),g=w(0),y=async()=>{try{const{data:o}=await Q(n);C.value=o.records||[],g.value=o.total||0}catch(o){console.error("获取课程列表失败:",o),O.error("获取课程列表失败")}},p=()=>{n.page=1,y()},M=()=>{Object.assign(n,{keyword:"",courseType:"",difficultyLevel:"",page:1,size:12}),y()},h=o=>{T.push(`/course/${o}`)},x=o=>({1:"基础班",2:"提高班",3:"专业班",4:"私教课"})[o]||"未知",S=o=>({1:"success",2:"primary",3:"warning",4:"danger"})[o]||"info",N=o=>({1:"入门",2:"初级",3:"中级",4:"高级"})[o]||"未知",U=o=>({1:"success",2:"primary",3:"warning",4:"danger"})[o]||"info";return I(()=>{y()}),(o,l)=>{const j=i("el-input"),_=i("el-form-item"),c=i("el-option"),k=i("el-select"),b=i("el-button"),B=i("el-form"),z=i("el-card"),m=i("el-icon"),D=i("el-image"),V=i("el-tag"),$=i("el-pagination"),E=i("el-empty");return d(),f("div",W,[e(z,{class:"filter-card"},{default:a(()=>[e(B,{inline:!0,model:n,class:"search-form"},{default:a(()=>[e(_,{label:"课程名称"},{default:a(()=>[e(j,{modelValue:n.keyword,"onUpdate:modelValue":l[0]||(l[0]=t=>n.keyword=t),placeholder:"请输入课程名称",clearable:"",onClear:p},null,8,["modelValue"])]),_:1}),e(_,{label:"课程类型"},{default:a(()=>[e(k,{modelValue:n.courseType,"onUpdate:modelValue":l[1]||(l[1]=t=>n.courseType=t),placeholder:"请选择类型",clearable:""},{default:a(()=>[e(c,{label:"全部",value:""}),e(c,{label:"基础班",value:1}),e(c,{label:"提高班",value:2}),e(c,{label:"专业班",value:3}),e(c,{label:"私教课",value:4})]),_:1},8,["modelValue"])]),_:1}),e(_,{label:"难度等级"},{default:a(()=>[e(k,{modelValue:n.difficultyLevel,"onUpdate:modelValue":l[2]||(l[2]=t=>n.difficultyLevel=t),placeholder:"请选择难度",clearable:""},{default:a(()=>[e(c,{label:"全部",value:""}),e(c,{label:"入门",value:1}),e(c,{label:"初级",value:2}),e(c,{label:"中级",value:3}),e(c,{label:"高级",value:4})]),_:1},8,["modelValue"])]),_:1}),e(_,null,{default:a(()=>[e(b,{type:"primary",icon:"Search",onClick:p},{default:a(()=>[...l[5]||(l[5]=[u("搜索",-1)])]),_:1}),e(b,{icon:"Refresh",onClick:M},{default:a(()=>[...l[6]||(l[6]=[u("重置",-1)])]),_:1})]),_:1})]),_:1},8,["model"])]),_:1}),s("div",ee,[(d(!0),f(q,null,J(C.value,t=>(d(),L(z,{key:t.id,class:"course-card",shadow:"hover",onClick:F=>h(t.id)},{default:a(()=>[s("div",te,[e(D,{src:t.coverImage||"/images/default-course.jpg",fit:"cover",class:"cover-image"},{error:a(()=>[s("div",le,[e(m,null,{default:a(()=>[e(v(Y))]),_:1})])]),_:1},8,["src"]),s("div",se,[e(V,{type:S(t.courseType),size:"small"},{default:a(()=>[u(r(x(t.courseType)),1)]),_:2},1032,["type"])])]),s("div",ae,[s("h3",oe,r(t.courseName),1),s("div",ne,[s("div",ie,[e(m,null,{default:a(()=>[e(v(Z))]),_:1}),s("span",null,r(t.coachName),1)]),s("div",re,[e(m,null,{default:a(()=>[e(v(A))]),_:1}),s("span",null,r(t.rating||"5.0"),1)]),s("div",ce,[e(m,null,{default:a(()=>[e(v(G))]),_:1}),s("span",null,r(t.viewCount||0),1)])]),s("div",de,[s("div",ue,[l[7]||(l[7]=s("span",{class:"label"},"难度：",-1)),e(V,{type:U(t.difficultyLevel),size:"small"},{default:a(()=>[u(r(N(t.difficultyLevel)),1)]),_:2},1032,["type"])]),s("div",pe,[l[8]||(l[8]=s("span",{class:"label"},"人数：",-1)),s("span",null,r(t.minStudents)+"-"+r(t.maxStudents)+"人",1)]),s("div",_e,[l[9]||(l[9]=s("span",{class:"label"},"时长：",-1)),s("span",null,r(t.duration)+"分钟/节",1)])]),s("div",me,[s("div",fe,[s("span",ve,"¥"+r(t.price),1),t.memberPrice?(d(),f("span",ge," 会员价 ¥"+r(t.memberPrice),1)):H("",!0)]),e(b,{type:"primary",size:"small",onClick:K(F=>h(t.id),["stop"])},{default:a(()=>[...l[10]||(l[10]=[u(" 查看详情 ",-1)])]),_:1},8,["onClick"])])])]),_:2},1032,["onClick"]))),128))]),g.value>0?(d(),f("div",ye,[e($,{"current-page":n.page,"onUpdate:currentPage":l[3]||(l[3]=t=>n.page=t),"page-size":n.size,"onUpdate:pageSize":l[4]||(l[4]=t=>n.size=t),total:g.value,"page-sizes":[6,12,24,48],layout:"total, sizes, prev, pager, next, jumper",onSizeChange:p,onCurrentChange:p},null,8,["current-page","page-size","total"])])):(d(),L(E,{key:1,description:"暂无课程数据"}))])}}},Ve=P(be,[["__scopeId","data-v-289d50ad"]]);export{Ve as default};
