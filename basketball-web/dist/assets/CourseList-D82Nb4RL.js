import{_ as I,k as R,r as w,t as $,d as f,e,b as s,c as L,a,f as i,F as O,x as q,E as A,m as G,o as d,i as u,u as v,aa as H,B as r,I as J,P as K,U as Q,g as W,V as X}from"./index-zUzrFZpX.js";import{g as Y}from"./course-D7jmh9Oy.js";import{B as Z}from"./BackButton-BCA-o-ra.js";const ee={class:"course-list-container"},te={class:"course-grid"},le={class:"course-cover"},se={class:"image-slot"},ae={class:"course-type-tag"},oe={class:"course-info"},ne={class:"course-name"},ie={class:"course-meta"},re={class:"meta-item"},ce={class:"meta-item"},de={class:"meta-item"},ue={class:"course-detail"},pe={class:"detail-item"},_e={class:"detail-item"},me={class:"detail-item"},fe={class:"course-footer"},ve={class:"price-info"},ge={class:"price"},ye={key:0,class:"member-price"},be={key:0,class:"pagination-container"},Ce={__name:"CourseList",setup(ke){const T=G(),n=R({keyword:"",courseType:"",difficultyLevel:"",page:1,size:12}),C=w([]),g=w(0),y=async()=>{try{const{data:o}=await Y(n);C.value=o.records||[],g.value=o.total||0}catch(o){console.error("获取课程列表失败:",o),A.error("获取课程列表失败")}},p=()=>{n.page=1,y()},x=()=>{Object.assign(n,{keyword:"",courseType:"",difficultyLevel:"",page:1,size:12}),y()},k=o=>{T.push(`/course/${o}`)},M=o=>({1:"基础班",2:"提高班",3:"专业班",4:"私教课"})[o]||"未知",B=o=>({1:"success",2:"primary",3:"warning",4:"danger"})[o]||"info",S=o=>({1:"入门",2:"初级",3:"中级",4:"高级"})[o]||"未知",N=o=>({1:"success",2:"primary",3:"warning",4:"danger"})[o]||"info";return $(()=>{y()}),(o,t)=>{const U=i("el-input"),_=i("el-form-item"),c=i("el-option"),h=i("el-select"),b=i("el-button"),D=i("el-form"),V=i("el-card"),m=i("el-icon"),P=i("el-image"),z=i("el-tag"),j=i("el-pagination"),E=i("el-empty");return d(),f("div",ee,[e(Z,{text:"返回"}),t[11]||(t[11]=s("h2",{class:"page-title"},"课程列表",-1)),e(V,{class:"filter-card"},{default:a(()=>[e(D,{inline:!0,model:n,class:"search-form"},{default:a(()=>[e(_,{label:"课程名称"},{default:a(()=>[e(U,{modelValue:n.keyword,"onUpdate:modelValue":t[0]||(t[0]=l=>n.keyword=l),placeholder:"请输入课程名称",clearable:"",onClear:p},null,8,["modelValue"])]),_:1}),e(_,{label:"课程类型"},{default:a(()=>[e(h,{modelValue:n.courseType,"onUpdate:modelValue":t[1]||(t[1]=l=>n.courseType=l),placeholder:"请选择类型",clearable:""},{default:a(()=>[e(c,{label:"全部",value:""}),e(c,{label:"基础班",value:1}),e(c,{label:"提高班",value:2}),e(c,{label:"专业班",value:3}),e(c,{label:"私教课",value:4})]),_:1},8,["modelValue"])]),_:1}),e(_,{label:"难度等级"},{default:a(()=>[e(h,{modelValue:n.difficultyLevel,"onUpdate:modelValue":t[2]||(t[2]=l=>n.difficultyLevel=l),placeholder:"请选择难度",clearable:""},{default:a(()=>[e(c,{label:"全部",value:""}),e(c,{label:"入门",value:1}),e(c,{label:"初级",value:2}),e(c,{label:"中级",value:3}),e(c,{label:"高级",value:4})]),_:1},8,["modelValue"])]),_:1}),e(_,null,{default:a(()=>[e(b,{type:"primary",icon:"Search",onClick:p},{default:a(()=>[...t[5]||(t[5]=[u("搜索",-1)])]),_:1}),e(b,{icon:"Refresh",onClick:x},{default:a(()=>[...t[6]||(t[6]=[u("重置",-1)])]),_:1})]),_:1})]),_:1},8,["model"])]),_:1}),s("div",te,[(d(!0),f(O,null,q(C.value,l=>(d(),L(V,{key:l.id,class:"course-card",shadow:"hover",onClick:F=>k(l.id)},{default:a(()=>[s("div",le,[e(P,{src:l.coverImage||"/images/default-course.jpg",fit:"cover",class:"cover-image"},{error:a(()=>[s("div",se,[e(m,null,{default:a(()=>[e(v(H))]),_:1})])]),_:1},8,["src"]),s("div",ae,[e(z,{type:B(l.courseType),size:"small"},{default:a(()=>[u(r(M(l.courseType)),1)]),_:2},1032,["type"])])]),s("div",oe,[s("h3",ne,r(l.courseName),1),s("div",ie,[s("div",re,[e(m,null,{default:a(()=>[e(v(J))]),_:1}),s("span",null,r(l.coachName),1)]),s("div",ce,[e(m,null,{default:a(()=>[e(v(K))]),_:1}),s("span",null,r(l.rating||"5.0"),1)]),s("div",de,[e(m,null,{default:a(()=>[e(v(Q))]),_:1}),s("span",null,r(l.viewCount||0),1)])]),s("div",ue,[s("div",pe,[t[7]||(t[7]=s("span",{class:"label"},"难度：",-1)),e(z,{type:N(l.difficultyLevel),size:"small"},{default:a(()=>[u(r(S(l.difficultyLevel)),1)]),_:2},1032,["type"])]),s("div",_e,[t[8]||(t[8]=s("span",{class:"label"},"人数：",-1)),s("span",null,r(l.minStudents)+"-"+r(l.maxStudents)+"人",1)]),s("div",me,[t[9]||(t[9]=s("span",{class:"label"},"时长：",-1)),s("span",null,r(l.duration)+"分钟/节",1)])]),s("div",fe,[s("div",ve,[s("span",ge,"¥"+r(l.price),1),l.memberPrice?(d(),f("span",ye," 会员价 ¥"+r(l.memberPrice),1)):W("",!0)]),e(b,{type:"primary",size:"small",onClick:X(F=>k(l.id),["stop"])},{default:a(()=>[...t[10]||(t[10]=[u(" 查看详情 ",-1)])]),_:1},8,["onClick"])])])]),_:2},1032,["onClick"]))),128))]),g.value>0?(d(),f("div",be,[e(j,{"current-page":n.page,"onUpdate:currentPage":t[3]||(t[3]=l=>n.page=l),"page-size":n.size,"onUpdate:pageSize":t[4]||(t[4]=l=>n.size=l),total:g.value,"page-sizes":[6,12,24,48],layout:"total, sizes, prev, pager, next, jumper",onSizeChange:p,onCurrentChange:p},null,8,["current-page","page-size","total"])])):(d(),L(E,{key:1,description:"暂无课程数据"}))])}}},we=I(Ce,[["__scopeId","data-v-9624b73b"]]);export{we as default};
