import{_ as D,j,r as m,t as q,d as p,b as s,e as o,a as e,f as y,u as n,F as w,v as u,g as G,m as H,E as _,o as v,n as k,i as f,x as B,y as b,z as g,A as L,B as T,C as J,D as K}from"./index-BU1z93KZ.js";import{g as O,a as Q,b as W}from"./member-Cz1wm3WK.js";import{N as X,A as Y}from"./AnnouncementSection-D-MudmCd.js";import"./notification-SycZCjrS.js";import"./request-CITddpnx.js";const Z={class:"home-container"},$={class:"home-header"},ss={class:"header-content"},ts={class:"logo-section"},os={class:"user-info"},es={class:"notification-wrapper"},ns={class:"username"},is={class:"home-content"},ls={key:0,class:"hero-section"},as={class:"hero-content"},ds={class:"hero-actions"},rs={class:"features"},us={class:"feature-tag"},cs={class:"feature-tag"},ps={class:"feature-tag"},vs={class:"feature-tag"},fs={class:"hero-image"},_s={class:"image-placeholder"},gs={key:1,class:"user-welcome-section"},ms={class:"welcome-content"},ys={class:"welcome-text"},ks={class:"user-stats"},bs={class:"stat-item"},Cs={class:"stat-value"},hs={class:"stat-item"},zs={class:"stat-value"},xs={class:"stat-item"},ws={class:"stat-value"},Bs={class:"stat-item"},Ls={class:"stat-value"},Ts={key:2,class:"announcement-section"},Ns={class:"quick-actions"},Ms={class:"actions-grid"},Ss={class:"action-icon blue"},Vs={class:"action-icon green"},Is={class:"action-icon orange"},Rs={class:"action-icon purple"},Us={class:"action-icon red"},As={class:"intro-section"},Es={class:"intro-grid"},Fs={class:"intro-item"},Ps={class:"intro-icon blue"},Ds={class:"intro-item"},js={class:"intro-icon green"},qs={class:"intro-item"},Gs={class:"intro-icon orange"},Hs={class:"intro-item"},Js={class:"intro-icon red"},Ks={__name:"Index",setup(Os){const a=H(),l=j(),C=m(0),h=m(0),z=m(0),N=async()=>{if(l.isLogin)try{const d=await O();d.code===200&&(C.value=d.data||0);const t=await Q();t.code===200&&(h.value=t.data||0);const i=await W({page:1,pageSize:100});i.code===200&&i.data&&i.data.records&&(z.value=i.data.records.filter(c=>c.cardType===2&&c.status===1).reduce((c,r)=>c+(r.balance||0),0))}catch(d){console.error("获取用户统计数据失败:",d)}};q(()=>{N()});const M=()=>(l.realName||l.username||"用户").charAt(0).toUpperCase(),S=()=>{a.push("/login")},V=()=>({0:"普通用户",1:"银卡会员",2:"金卡会员",3:"铂金会员",4:"VIP会员"})[l.memberLevel]||"普通用户",I=()=>{a.push("/register")},R=()=>{a.push("/profile")},U=()=>{K.confirm("确定要退出登录吗？","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(()=>{l.logout(),_.success("已退出登录"),a.push("/login")}).catch(()=>{})},x=()=>{a.push("/venue")},A=()=>{if(!l.isLogin){_.warning("请先登录"),a.push("/login");return}a.push("/user-center")},E=()=>{a.push("/course")},F=()=>{if(!l.isLogin){_.warning("请先登录"),a.push("/login");return}a.push("/my-courses")},P=()=>{if(!l.isLogin){_.warning("请先登录"),a.push("/login");return}a.push("/member/card")};return(d,t)=>{const i=y("el-icon"),c=y("el-avatar"),r=y("el-button");return v(),p("div",Z,[s("div",$,[s("div",ss,[s("div",ts,[o(i,{size:32,color:"#ffffff"},{default:e(()=>[o(n(k))]),_:1}),t[0]||(t[0]=s("h1",null,"篮球场馆预约",-1))]),s("div",os,[n(l).isLogin?(v(),p(w,{key:0},[s("div",es,[o(X)]),o(c,{size:36,style:{"margin-right":"10px"}},{default:e(()=>[f(u(M()),1)]),_:1}),s("span",ns,u(n(l).realName||n(l).username||"用户"),1),o(r,{type:"primary",link:"",onClick:R},{default:e(()=>[...t[1]||(t[1]=[f("个人中心",-1)])]),_:1}),o(r,{type:"danger",link:"",onClick:U},{default:e(()=>[...t[2]||(t[2]=[f("退出",-1)])]),_:1})],64)):(v(),p(w,{key:1},[o(r,{type:"primary",plain:"",onClick:S},{default:e(()=>[...t[3]||(t[3]=[f("登录",-1)])]),_:1}),o(r,{type:"primary",onClick:I},{default:e(()=>[...t[4]||(t[4]=[f("注册",-1)])]),_:1})],64))])])]),s("div",is,[n(l).isLogin?(v(),p("div",gs,[s("div",ms,[s("div",ys,[s("h2",null,"欢迎回来，"+u(n(l).realName||n(l).username||"用户")+"！",1),t[13]||(t[13]=s("p",null,"今天是美好的一天，开始您的运动之旅吧！",-1))]),s("div",ks,[s("div",bs,[s("div",Cs,u(V()),1),t[14]||(t[14]=s("div",{class:"stat-label"},"会员等级",-1))]),s("div",hs,[s("div",zs,u(C.value),1),t[15]||(t[15]=s("div",{class:"stat-label"},"积分余额",-1))]),s("div",xs,[s("div",ws,"¥"+u(h.value.toFixed(2)),1),t[16]||(t[16]=s("div",{class:"stat-label"},"账户余额",-1))]),s("div",Bs,[s("div",Ls,"¥"+u(z.value.toFixed(2)),1),t[17]||(t[17]=s("div",{class:"stat-label"},"会员卡余额",-1))])])])])):(v(),p("div",ls,[s("div",as,[t[11]||(t[11]=s("h2",{class:"hero-title"},"欢迎来到篮球场馆预约系统",-1)),t[12]||(t[12]=s("p",{class:"hero-subtitle"},"在这里轻松预订心仪的篮球场地，享受专业的运动体验",-1)),s("div",ds,[o(r,{type:"primary",size:"large",onClick:x},{default:e(()=>[o(i,null,{default:e(()=>[o(n(B))]),_:1}),t[5]||(t[5]=s("span",null,"浏览场地",-1))]),_:1}),o(r,{type:"success",size:"large",plain:"",onClick:d.goToLogin},{default:e(()=>[o(i,null,{default:e(()=>[o(n(b))]),_:1}),t[6]||(t[6]=s("span",null,"立即登录",-1))]),_:1},8,["onClick"])]),s("div",rs,[s("div",us,[o(i,{color:"#409eff"},{default:e(()=>[o(n(g))]),_:1}),t[7]||(t[7]=s("span",null,"在线预订",-1))]),s("div",cs,[o(i,{color:"#67c23a"},{default:e(()=>[o(n(g))]),_:1}),t[8]||(t[8]=s("span",null,"专业场地",-1))]),s("div",ps,[o(i,{color:"#e6a23c"},{default:e(()=>[o(n(g))]),_:1}),t[9]||(t[9]=s("span",null,"优惠会员",-1))]),s("div",vs,[o(i,{color:"#f56c6c"},{default:e(()=>[o(n(g))]),_:1}),t[10]||(t[10]=s("span",null,"便捷支付",-1))])])]),s("div",fs,[s("div",_s,[o(i,{size:120,color:"#409eff"},{default:e(()=>[o(n(k))]),_:1})])])])),n(l).isLogin?(v(),p("div",Ts,[o(Y)])):G("",!0),s("div",Ns,[t[28]||(t[28]=s("h3",{class:"section-title"},"快捷功能",-1)),s("div",Ms,[s("div",{class:"action-card",onClick:x},[s("div",Ss,[o(i,{size:40},{default:e(()=>[o(n(B))]),_:1})]),t[18]||(t[18]=s("h4",null,"浏览场地",-1)),t[19]||(t[19]=s("p",null,"查看所有可用的篮球场地",-1))]),s("div",{class:"action-card",onClick:A},[s("div",Vs,[o(i,{size:40},{default:e(()=>[o(n(L))]),_:1})]),t[20]||(t[20]=s("h4",null,"我的预订",-1)),t[21]||(t[21]=s("p",null,"查看和管理您的场地预订",-1))]),s("div",{class:"action-card",onClick:E},[s("div",Is,[o(i,{size:40},{default:e(()=>[o(n(T))]),_:1})]),t[22]||(t[22]=s("h4",null,"课程报名",-1)),t[23]||(t[23]=s("p",null,"参加专业的篮球培训课程",-1))]),s("div",{class:"action-card",onClick:F},[s("div",Rs,[o(i,{size:40},{default:e(()=>[o(n(J))]),_:1})]),t[24]||(t[24]=s("h4",null,"我的课程",-1)),t[25]||(t[25]=s("p",null,"查看我的课程报名记录",-1))]),s("div",{class:"action-card",onClick:P},[s("div",Us,[o(i,{size:40},{default:e(()=>[o(n(b))]),_:1})]),t[26]||(t[26]=s("h4",null,"会员中心",-1)),t[27]||(t[27]=s("p",null,"查看会员权益和积分",-1))])])]),s("div",As,[t[37]||(t[37]=s("h3",{class:"section-title"},"系统功能介绍",-1)),s("div",Es,[s("div",Fs,[s("div",Ps,[o(i,{size:32},{default:e(()=>[o(n(k))]),_:1})]),t[29]||(t[29]=s("h4",null,"场地预订",-1)),t[30]||(t[30]=s("p",null,"支持多种场地类型，实时查看场地状态，方便快捷的预订流程",-1))]),s("div",Ds,[s("div",js,[o(i,{size:32},{default:e(()=>[o(n(L))]),_:1})]),t[31]||(t[31]=s("h4",null,"灵活时段",-1)),t[32]||(t[32]=s("p",null,"灵活的预订时段选择，支持在线支付，预订记录随时查询",-1))]),s("div",qs,[s("div",Gs,[o(i,{size:32},{default:e(()=>[o(n(T))]),_:1})]),t[33]||(t[33]=s("h4",null,"课程培训",-1)),t[34]||(t[34]=s("p",null,"专业教练团队，多样化课程选择，线上报名便捷高效",-1))]),s("div",Hs,[s("div",Js,[o(i,{size:32},{default:e(()=>[o(n(b))]),_:1})]),t[35]||(t[35]=s("h4",null,"会员体系",-1)),t[36]||(t[36]=s("p",null,"会员等级制度，积分奖励机制，专属优惠折扣",-1))])])])])])}}},$s=D(Ks,[["__scopeId","data-v-86ab1b7f"]]);export{$s as default};
