import{W as a,_ as g,r as u,$ as h,f as _,c as b,o as w,a as x,i as C,B as S,a0 as y}from"./index-zUzrFZpX.js";function $(e){return a({url:"/api/sms/send",method:"post",data:e})}function N(e){return a({url:"/api/auth/phone/login",method:"post",data:e})}function P(){return a({url:"/api/wechat/auth/url",method:"get"})}const B={__name:"SmsCountdown",props:{countdown:{type:Number,default:60},disabled:{type:Boolean,default:!1},loading:{type:Boolean,default:!1},text:{type:String,default:"发送验证码"}},emits:["send"],setup(e,{expose:r,emit:d}){const s=e,c=d,n=u(!1),t=u(0);let o=null;const i=h(()=>n.value?`${t.value}秒后重新发送`:s.text),p=()=>{c("send")},f=()=>{n.value=!0,t.value=s.countdown,o=setInterval(()=>{t.value--,t.value<=0&&l()},1e3)},l=()=>{n.value=!1,t.value=0,o&&(clearInterval(o),o=null)};return r({startCountdown:f,stopCountdown:l}),(m,k)=>{const v=_("el-button");return w(),b(v,y({disabled:n.value||e.disabled,loading:e.loading,onClick:p},m.$attrs),{default:x(()=>[C(S(i.value),1)]),_:1},16,["disabled","loading"])}}},T=g(B,[["__scopeId","data-v-1ed5a800"]]);export{T as S,P as g,N as l,$ as s};
