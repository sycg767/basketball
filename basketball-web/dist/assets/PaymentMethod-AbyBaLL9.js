import{_ as q,j as E,r as b,k as S,t as U,a6 as $,E as p,m as R,d as W,e as t,a as n,f as l,o as j,b as e,B as u,z as f,u as A,a8 as D,i as N}from"./index-Oskx-env.js";const F={class:"payment-method-container"},O={class:"order-info"},G={class:"info-item"},H={class:"value"},J={class:"info-item"},K={class:"value"},L={class:"info-item"},Q={class:"value amount"},X={class:"payment-methods"},Y={class:"method-content"},Z={class:"method-icon balance"},ee={class:"method-info"},se={class:"payment-actions"},ae={__name:"PaymentMethod",setup(oe){const k=$(),r=R(),w=E(),c=b(!1),o=b("wechat"),h=b("0.00"),a=S({orderNo:"",businessNo:"",businessName:"",businessType:"",amount:"0.00"});U(()=>{C(),T()});const C=()=>{const{orderNo:i,businessNo:s,businessName:v,businessType:_,amount:d}=k.query;if(!i||!d){p.error("订单信息不完整"),r.back();return}a.orderNo=i,a.businessNo=s||i,a.businessName=v||"篮球馆服务",a.businessType=_||"booking",a.amount=d},T=()=>{const i=w.userInfo.balance||0;h.value=i.toFixed(2)},x=()=>{if(!o.value){p.warning("请选择支付方式");return}switch(c.value=!0,o.value){case"wechat":z();break;case"alipay":B();break;case"balance":V();break;default:p.error("不支持的支付方式"),c.value=!1}},z=()=>{r.push({path:"/payment/wechat",query:{businessNo:a.businessNo,businessType:a.businessType,businessName:a.businessName,amount:a.amount}})},B=()=>{r.push({path:"/payment/alipay",query:{businessNo:a.businessNo,businessType:a.businessType,businessName:a.businessName,amount:a.amount}})},V=async()=>{p.info("余额支付功能开发中"),c.value=!1},y=()=>{r.back()};return(i,s)=>{const v=l("el-page-header"),_=l("el-divider"),d=l("el-radio"),M=l("el-icon"),I=l("el-radio-group"),g=l("el-button"),P=l("el-card");return j(),W("div",F,[t(v,{onBack:y,title:"返回"},{content:n(()=>[...s[4]||(s[4]=[e("span",{class:"page-title"},"选择支付方式",-1)])]),_:1}),t(P,{class:"payment-card"},{default:n(()=>[e("div",O,[s[8]||(s[8]=e("h2",{class:"section-title"},"订单信息",-1)),e("div",G,[s[5]||(s[5]=e("span",{class:"label"},"订单编号:",-1)),e("span",H,u(a.orderNo||"-"),1)]),e("div",J,[s[6]||(s[6]=e("span",{class:"label"},"商品名称:",-1)),e("span",K,u(a.businessName||"-"),1)]),e("div",L,[s[7]||(s[7]=e("span",{class:"label"},"订单金额:",-1)),e("span",Q,"¥"+u(a.amount||"0.00"),1)])]),t(_),e("div",X,[s[12]||(s[12]=e("h2",{class:"section-title"},"选择支付方式",-1)),t(I,{modelValue:o.value,"onUpdate:modelValue":s[3]||(s[3]=m=>o.value=m),class:"method-group"},{default:n(()=>[e("div",{class:f(["method-item",{active:o.value==="wechat"}]),onClick:s[0]||(s[0]=m=>o.value="wechat")},[t(d,{value:"wechat",size:"large"},{default:n(()=>[...s[9]||(s[9]=[e("div",{class:"method-content"},[e("div",{class:"method-icon wechat"},[e("svg",{class:"icon","aria-hidden":"true"},[e("use",{"xlink:href":"#icon-wechat"})])]),e("div",{class:"method-info"},[e("h4",null,"微信支付"),e("p",null,"推荐使用微信扫码支付")])],-1)])]),_:1})],2),e("div",{class:f(["method-item",{active:o.value==="alipay"}]),onClick:s[1]||(s[1]=m=>o.value="alipay")},[t(d,{value:"alipay",size:"large"},{default:n(()=>[...s[10]||(s[10]=[e("div",{class:"method-content"},[e("div",{class:"method-icon alipay"},[e("svg",{class:"icon","aria-hidden":"true"},[e("use",{"xlink:href":"#icon-alipay"})])]),e("div",{class:"method-info"},[e("h4",null,"支付宝支付"),e("p",null,"支持支付宝扫码或跳转支付")])],-1)])]),_:1})],2),e("div",{class:f(["method-item",{active:o.value==="balance"}]),onClick:s[2]||(s[2]=m=>o.value="balance")},[t(d,{value:"balance",size:"large"},{default:n(()=>[e("div",Y,[e("div",Z,[t(M,{size:32},{default:n(()=>[t(A(D))]),_:1})]),e("div",ee,[s[11]||(s[11]=e("h4",null,"余额支付",-1)),e("p",null,"当前余额: ¥"+u(h.value),1)])])]),_:1})],2)]),_:1},8,["modelValue"])]),e("div",se,[t(g,{size:"large",onClick:y},{default:n(()=>[...s[13]||(s[13]=[N("取消",-1)])]),_:1}),t(g,{type:"primary",size:"large",loading:c.value,disabled:!o.value,onClick:x},{default:n(()=>[N(" 确认支付 ¥"+u(a.amount||"0.00"),1)]),_:1},8,["loading","disabled"])])]),_:1})])}}},ne=q(ae,[["__scopeId","data-v-6fde9164"]]);export{ne as default};
