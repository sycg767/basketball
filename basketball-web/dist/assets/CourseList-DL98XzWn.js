import{_ as O,k as P,r as V,t as W,d as C,e,b as s,c as L,a as o,f as i,F as q,N as A,E as G,m as H,o as d,i as u,u as v,ab as J,v as c,y as K,I as Q,V as X,W as Y}from"./index-DqRIPXSt.js";import{g as Z}from"./course-CXNwJnW4.js";import{B as ee}from"./BackButton-CB8aFD-N.js";const te={class:"course-list-container"},le={class:"course-grid"},se={class:"course-cover"},oe={class:"image-slot"},ae={class:"course-type-tag"},ne={class:"course-info"},ie={class:"course-name"},re={class:"course-meta"},ce={class:"meta-item"},de={class:"meta-item"},ue={class:"meta-item"},pe={class:"course-detail"},_e={class:"detail-item"},me={class:"detail-item"},fe={class:"detail-item"},ve={class:"course-footer"},ge={class:"price-info"},ye={class:"price"},be={key:0,class:"pagination-container"},Ce={__name:"CourseList",setup(he){const T=H(),n=P({keyword:"",courseType:"",difficultyLevel:"",page:1,size:12}),h=V([]),g=V(0),y=async()=>{try{const{data:a}=await Z(n);h.value=a.records||[],g.value=a.total||0}catch(a){console.error("获取课程列表失败:",a),G.error("获取课程列表失败")}},p=()=>{n.page=1,y()},M=()=>{Object.assign(n,{keyword:"",courseType:"",difficultyLevel:"",page:1,size:12}),y()},k=a=>{T.push(`/course/${a}`)},B=a=>({1:"基础班",2:"提高班",3:"专业班",4:"私教课"})[a]||"未知",S=a=>({1:"success",2:"primary",3:"warning",4:"danger"})[a]||"info",N=a=>({1:"入门",2:"初级",3:"中级",4:"高级"})[a]||"未知",U=a=>({1:"success",2:"primary",3:"warning",4:"danger"})[a]||"info";return W(()=>{y()}),(a,t)=>{const D=i("el-input"),_=i("el-form-item"),m=i("el-col"),r=i("el-option"),w=i("el-select"),b=i("el-button"),j=i("el-row"),E=i("el-form"),x=i("el-card"),f=i("el-icon"),F=i("el-image"),z=i("el-tag"),I=i("el-pagination"),R=i("el-empty");return d(),C("div",te,[e(ee,{text:"返回"}),t[11]||(t[11]=s("h2",{class:"page-title"},"课程列表",-1)),e(x,{class:"filter-card"},{default:o(()=>[e(E,{model:n,"label-width":"80px",class:"search-form"},{default:o(()=>[e(j,{gutter:16},{default:o(()=>[e(m,{xs:24,sm:12,md:8,lg:7},{default:o(()=>[e(_,{label:"课程名称"},{default:o(()=>[e(D,{modelValue:n.keyword,"onUpdate:modelValue":t[0]||(t[0]=l=>n.keyword=l),placeholder:"请输入课程名称",clearable:"",onClear:p},null,8,["modelValue"])]),_:1})]),_:1}),e(m,{xs:24,sm:12,md:6,lg:5},{default:o(()=>[e(_,{label:"课程类型"},{default:o(()=>[e(w,{modelValue:n.courseType,"onUpdate:modelValue":t[1]||(t[1]=l=>n.courseType=l),placeholder:"请选择类型",clearable:""},{default:o(()=>[e(r,{label:"全部",value:""}),e(r,{label:"基础班",value:1}),e(r,{label:"提高班",value:2}),e(r,{label:"专业班",value:3}),e(r,{label:"私教课",value:4})]),_:1},8,["modelValue"])]),_:1})]),_:1}),e(m,{xs:24,sm:12,md:6,lg:5},{default:o(()=>[e(_,{label:"难度等级"},{default:o(()=>[e(w,{modelValue:n.difficultyLevel,"onUpdate:modelValue":t[2]||(t[2]=l=>n.difficultyLevel=l),placeholder:"请选择难度",clearable:""},{default:o(()=>[e(r,{label:"全部",value:""}),e(r,{label:"入门",value:1}),e(r,{label:"初级",value:2}),e(r,{label:"中级",value:3}),e(r,{label:"高级",value:4})]),_:1},8,["modelValue"])]),_:1})]),_:1}),e(m,{xs:24,sm:24,md:4,lg:7},{default:o(()=>[e(_,{label:" ",class:"button-group"},{default:o(()=>[e(b,{type:"primary",icon:"Search",onClick:p},{default:o(()=>[...t[5]||(t[5]=[u("搜索",-1)])]),_:1}),e(b,{icon:"Refresh",onClick:M},{default:o(()=>[...t[6]||(t[6]=[u("重置",-1)])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1},8,["model"])]),_:1}),s("div",le,[(d(!0),C(q,null,A(h.value,l=>(d(),L(x,{key:l.id,class:"course-card",shadow:"hover",onClick:$=>k(l.id)},{default:o(()=>[s("div",se,[e(F,{src:l.coverImage||"/images/default-course.jpg",fit:"cover",class:"cover-image"},{error:o(()=>[s("div",oe,[e(f,null,{default:o(()=>[e(v(J))]),_:1})])]),_:1},8,["src"]),s("div",ae,[e(z,{type:S(l.courseType),size:"small"},{default:o(()=>[u(c(B(l.courseType)),1)]),_:2},1032,["type"])])]),s("div",ne,[s("h3",ie,c(l.courseName),1),s("div",re,[s("div",ce,[e(f,null,{default:o(()=>[e(v(K))]),_:1}),s("span",null,c(l.coachName),1)]),s("div",de,[e(f,null,{default:o(()=>[e(v(Q))]),_:1}),s("span",null,c(l.rating||"5.0"),1)]),s("div",ue,[e(f,null,{default:o(()=>[e(v(X))]),_:1}),s("span",null,c(l.viewCount||0),1)])]),s("div",pe,[s("div",_e,[t[7]||(t[7]=s("span",{class:"label"},"难度：",-1)),e(z,{type:U(l.difficultyLevel),size:"small"},{default:o(()=>[u(c(N(l.difficultyLevel)),1)]),_:2},1032,["type"])]),s("div",me,[t[8]||(t[8]=s("span",{class:"label"},"人数：",-1)),s("span",null,c(l.minStudents)+"-"+c(l.maxStudents)+"人",1)]),s("div",fe,[t[9]||(t[9]=s("span",{class:"label"},"时长：",-1)),s("span",null,c(l.duration)+"分钟/节",1)])]),s("div",ve,[s("div",ge,[s("span",ye,"¥"+c(l.price),1)]),e(b,{type:"primary",size:"small",onClick:Y($=>k(l.id),["stop"])},{default:o(()=>[...t[10]||(t[10]=[u(" 查看详情 ",-1)])]),_:1},8,["onClick"])])])]),_:2},1032,["onClick"]))),128))]),g.value>0?(d(),C("div",be,[e(I,{"current-page":n.page,"onUpdate:currentPage":t[3]||(t[3]=l=>n.page=l),"page-size":n.size,"onUpdate:pageSize":t[4]||(t[4]=l=>n.size=l),total:g.value,"page-sizes":[6,12,24,48],layout:"total, sizes, prev, pager, next, jumper",onSizeChange:p,onCurrentChange:p},null,8,["current-page","page-size","total"])])):(d(),L(R,{key:1,description:"暂无课程数据"}))])}}},ze=O(Ce,[["__scopeId","data-v-7f41d189"]]);export{ze as default};
