import{_ as x,r as g,k as E,d as y,b as t,e as r,a as l,f as d,m as U,o as h,u as z,n as N,i as _,q as b,E as C}from"./index-BU1z93KZ.js";import{v as k,a as B,b as L}from"./validate-CbFD6edE.js";const q={class:"register-container"},D={class:"register-box"},I={class:"logo-section"},M={class:"logo-icon"},T={class:"register-footer"},j={__name:"Register",setup(A){const m=U(),f=g(null),p=g(!1),s=E({username:"",password:"",confirmPassword:"",phone:"",realName:""}),w={username:[{validator:(n,e,o)=>{e?L(e)?o():o(new Error("用户名为3-20位字母、数字或下划线")):o(new Error("请输入用户名"))},trigger:"blur"}],password:[{validator:(n,e,o)=>{e?B(e)?o():o(new Error("密码长度为6-20位")):o(new Error("请输入密码"))},trigger:"blur"}],confirmPassword:[{validator:(n,e,o)=>{e?e!==s.password?o(new Error("两次输入的密码不一致")):o():o(new Error("请确认密码"))},trigger:"blur"}],phone:[{validator:(n,e,o)=>{e?k(e)?o():o(new Error("请输入正确的手机号")):o(new Error("请输入手机号"))},trigger:"blur"}]},c=()=>{f.value.validate(async n=>{if(n){p.value=!0;try{const{confirmPassword:e,...o}=s;await b(o),C.success("注册成功，请登录"),m.push("/login")}catch(e){console.error("注册失败",e)}finally{p.value=!1}}})},v=()=>{m.push("/login")};return(n,e)=>{const o=d("el-icon"),u=d("el-input"),i=d("el-form-item"),V=d("el-button"),P=d("el-link"),R=d("el-form");return h(),y("div",q,[t("div",D,[t("div",I,[t("div",M,[r(o,{size:48},{default:l(()=>[r(z(N))]),_:1})]),e[5]||(e[5]=t("h1",{class:"title"},"创建账号",-1)),e[6]||(e[6]=t("p",{class:"subtitle"},"加入篮球馆预约平台",-1))]),r(R,{ref_key:"formRef",ref:f,model:s,rules:w,class:"register-form"},{default:l(()=>[r(i,{prop:"username"},{default:l(()=>[r(u,{modelValue:s.username,"onUpdate:modelValue":e[0]||(e[0]=a=>s.username=a),placeholder:"用户名（3-20位字母数字下划线）",size:"large","prefix-icon":"User"},null,8,["modelValue"])]),_:1}),r(i,{prop:"password"},{default:l(()=>[r(u,{modelValue:s.password,"onUpdate:modelValue":e[1]||(e[1]=a=>s.password=a),type:"password",placeholder:"密码（6-20位）",size:"large","prefix-icon":"Lock","show-password":""},null,8,["modelValue"])]),_:1}),r(i,{prop:"confirmPassword"},{default:l(()=>[r(u,{modelValue:s.confirmPassword,"onUpdate:modelValue":e[2]||(e[2]=a=>s.confirmPassword=a),type:"password",placeholder:"确认密码",size:"large","prefix-icon":"Lock","show-password":""},null,8,["modelValue"])]),_:1}),r(i,{prop:"phone"},{default:l(()=>[r(u,{modelValue:s.phone,"onUpdate:modelValue":e[3]||(e[3]=a=>s.phone=a),placeholder:"手机号",size:"large","prefix-icon":"Phone",maxlength:"11"},null,8,["modelValue"])]),_:1}),r(i,{prop:"realName"},{default:l(()=>[r(u,{modelValue:s.realName,"onUpdate:modelValue":e[4]||(e[4]=a=>s.realName=a),placeholder:"真实姓名（选填）",size:"large","prefix-icon":"User"},null,8,["modelValue"])]),_:1}),r(i,null,{default:l(()=>[r(V,{type:"primary",size:"large",loading:p.value,class:"register-btn",onClick:c},{default:l(()=>[...e[7]||(e[7]=[_(" 注册 ",-1)])]),_:1},8,["loading"])]),_:1}),t("div",T,[e[9]||(e[9]=t("span",null,"已有账号？",-1)),r(P,{type:"primary",onClick:v},{default:l(()=>[...e[8]||(e[8]=[_("立即登录",-1)])]),_:1})])]),_:1},8,["model"])])])}}},Q=x(j,[["__scopeId","data-v-dff125bd"]]);export{Q as default};
