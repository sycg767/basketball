import{_ as h,j as z,r as _,k as B,d as C,b as s,e as o,a as l,f as a,m as L,o as R,u as U,n as E,p as F,i as f,B as N,E as g}from"./index-zUzrFZpX.js";const S={class:"admin-login-container"},q={class:"login-box"},K={class:"login-header"},j={class:"login-tips"},D={__name:"Login",setup(H){const d=L(),v=z(),r=_(null),t=_(!1),n=B({username:"",password:""}),y={username:[{required:!0,message:"请输入管理员账号",trigger:"blur"}],password:[{required:!0,message:"请输入密码",trigger:"blur"},{min:6,message:"密码长度不能小于6位",trigger:"blur"}]},p=async()=>{r.value&&await r.value.validate(async m=>{if(m){t.value=!0;try{await v.login(n),g.success("登录成功"),d.push("/admin/dashboard")}catch(e){g.error(e.message||"登录失败，请检查账号密码")}finally{t.value=!1}}})},b=()=>{d.push("/")};return(m,e)=>{const w=a("el-icon"),c=a("el-input"),i=a("el-form-item"),k=a("el-button"),V=a("el-link"),x=a("el-form");return R(),C("div",S,[s("div",q,[s("div",K,[o(w,{size:48,color:"#409eff"},{default:l(()=>[o(U(E))]),_:1}),e[2]||(e[2]=s("h2",null,"管理员登录",-1)),e[3]||(e[3]=s("p",null,"篮球场馆预约系统后台管理",-1))]),o(x,{ref_key:"loginFormRef",ref:r,model:n,rules:y,class:"login-form"},{default:l(()=>[o(i,{prop:"username"},{default:l(()=>[o(c,{modelValue:n.username,"onUpdate:modelValue":e[0]||(e[0]=u=>n.username=u),placeholder:"请输入管理员账号",size:"large","prefix-icon":"User"},null,8,["modelValue"])]),_:1}),o(i,{prop:"password"},{default:l(()=>[o(c,{modelValue:n.password,"onUpdate:modelValue":e[1]||(e[1]=u=>n.password=u),type:"password",placeholder:"请输入密码",size:"large","prefix-icon":"Lock","show-password":"",onKeyup:F(p,["enter"])},null,8,["modelValue"])]),_:1}),o(i,null,{default:l(()=>[o(k,{type:"primary",size:"large",loading:t.value,onClick:p,class:"login-button"},{default:l(()=>[f(N(t.value?"登录中...":"登 录"),1)]),_:1},8,["loading"])]),_:1}),s("div",j,[o(V,{type:"primary",onClick:b},{default:l(()=>[...e[4]||(e[4]=[f("返回用户端",-1)])]),_:1})])]),_:1},8,["model"])]),e[5]||(e[5]=s("div",{class:"login-footer"},[s("p",null,"© 2025 篮球场馆预约系统 版权所有")],-1))])}}},M=h(D,[["__scopeId","data-v-b0500e79"]]);export{M as default};
