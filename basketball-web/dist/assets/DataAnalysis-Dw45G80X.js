import{i as H}from"./index-D5fw03LZ.js";import{r as f,t as M,M as F,w as G,d as P,o as z,an as X,X as T,_ as E,E as L,f as g,a5 as W,e,a,b as m,v as R,c as O,g as B,a4 as $,i as N}from"./index-DqRIPXSt.js";const J={__name:"LineChart",props:{width:{type:String,default:"100%"},height:{type:String,default:"400px"},data:{type:Object,required:!0},title:{type:String,default:""},yAxisName:{type:String,default:""},smooth:{type:Boolean,default:!0},showArea:{type:Boolean,default:!1}},setup(d,{expose:b}){const t=d,p=f(null);let i=null;M(()=>{h(),window.addEventListener("resize",w)}),F(()=>{i&&(i.dispose(),i=null),window.removeEventListener("resize",w)}),G(()=>t.data,()=>{S()},{deep:!0});const h=()=>{if(!p.value)return;const v=()=>{p.value&&p.value.clientWidth>0?(i=H(p.value),S()):setTimeout(v,50)};setTimeout(v,0)},S=()=>{var c;if(!i||!t.data)return;const v={title:{text:t.title,left:"center",textStyle:{fontSize:16,fontWeight:500}},tooltip:{trigger:"axis",axisPointer:{type:"cross"}},legend:{top:t.title?35:10,data:((c=t.data.series)==null?void 0:c.map(n=>n.name))||[]},grid:{left:10,right:10,bottom:10,top:t.title?70:50,containLabel:!0},xAxis:{type:"category",boundaryGap:!1,data:t.data.xAxisData||[]},yAxis:{type:"value",name:t.yAxisName},series:(t.data.series||[]).map(n=>({name:n.name,type:"line",smooth:t.smooth,data:n.data,areaStyle:t.showArea?{}:void 0}))};i.setOption(v,!0)},w=()=>{i&&i.resize()};return b({resize:w}),(v,c)=>(z(),P("div",{ref_key:"chartRef",ref:p,style:X({width:d.width,height:d.height})},null,4))}};function ae(d){return T({url:"/api/admin/analytics/member/activity-trend",method:"get",params:d})}function j(d){return T({url:"/api/admin/analytics/member/active-users",method:"get",params:d})}function le(d){return T({url:"/api/admin/analytics/member/inactive-users",method:"get",params:d})}function q(d){return T({url:"/api/admin/analytics/member/churn-risk",method:"get",params:d})}function oe(d){return T({url:"/api/admin/analytics/course/popularity-ranking",method:"get",params:d})}function ne(d){return T({url:"/api/admin/analytics/course/hot-courses",method:"get",params:d})}function se(d){return T({url:"/api/admin/analytics/course/cold-courses",method:"get",params:d})}function re(d){return T({url:"/api/admin/analytics/venue/usage-ranking",method:"get",params:d})}function ie(d){return T({url:"/api/admin/analytics/venue/revenue-analysis",method:"get",params:d})}function de(d){return T({url:"/api/admin/analytics/venue/peak-period",method:"get",params:d})}const ce={class:"member-analysis-container"},ue={class:"stat-content"},pe={class:"stat-info"},ge={class:"stat-value"},me={class:"stat-content"},ve={class:"stat-info"},_e={class:"stat-value green"},fe={class:"stat-content"},he={class:"stat-info"},ye={class:"stat-value red"},De={class:"card-header"},be={class:"card-header"},xe={class:"pagination-container"},Se={__name:"MemberAnalysis",setup(d){const b=f(0),t=f(0),p=f(0),i=f(7),h=f("active"),S=f(!1),w=f([]),v=f(1),c=f(10),n=f(0),l=f({xAxisData:[],series:[]});M(()=>{r(),s(),y()});const r=async()=>{var x;try{const o=new Date,D=new Date;D.setDate(D.getDate()-i.value),console.log("ðŸ‘¥ [ä¼šå‘˜æ´»è·ƒåº¦è¶‹åŠ¿] è¯·æ±‚å‚æ•°:",{startDate:D.toISOString().split("T")[0],endDate:o.toISOString().split("T")[0]});const u=await ae({startDate:D.toISOString().split("T")[0],endDate:o.toISOString().split("T")[0]});console.log("ðŸ‘¥ [ä¼šå‘˜æ´»è·ƒåº¦è¶‹åŠ¿] å“åº”æ•°æ®:",u),console.log("ðŸ‘¥ [ä¼šå‘˜æ´»è·ƒåº¦è¶‹åŠ¿] æ•°æ®é•¿åº¦:",(x=u.data)==null?void 0:x.length),console.log("ðŸ‘¥ [ä¼šå‘˜æ´»è·ƒåº¦è¶‹åŠ¿] æ•°æ®å†…å®¹:",u.data),u.code===200&&u.data&&u.data.length>0?(l.value={xAxisData:u.data.map(_=>_.date||_.analysisDate),series:[{name:"æ´»è·ƒç”¨æˆ·æ•°",data:u.data.map(_=>_.activeUserCount||_.totalLoginCount||_.loginCount||_.activeCount||0)}]},console.log("âœ… [ä¼šå‘˜æ´»è·ƒåº¦è¶‹åŠ¿] å›¾è¡¨æ•°æ®å·²è®¾ç½®:",l.value)):console.warn("âš ï¸ [ä¼šå‘˜æ´»è·ƒåº¦è¶‹åŠ¿] æ— æ•°æ®æˆ–æ•°æ®ä¸ºç©º")}catch(o){console.error("âŒ [ä¼šå‘˜æ´»è·ƒåº¦è¶‹åŠ¿] èŽ·å–å¤±è´¥:",o),L.error("èŽ·å–æ´»è·ƒåº¦è¶‹åŠ¿å¤±è´¥")}},s=async()=>{var x,o,D,u;S.value=!0;try{let _;const A={page:v.value,size:c.value};console.log("ðŸ“‹ [ä¼šå‘˜åˆ—è¡¨] è¯·æ±‚å‚æ•°:",{listType:h.value,...A}),h.value==="active"?_=await j(A):h.value==="inactive"?_=await le(A):_=await q(A),console.log("ðŸ“‹ [ä¼šå‘˜åˆ—è¡¨] å“åº”æ•°æ®:",_),console.log("ðŸ“‹ [ä¼šå‘˜åˆ—è¡¨] æ•°æ®é•¿åº¦:",((o=(x=_.data)==null?void 0:x.records)==null?void 0:o.length)||((D=_.data)==null?void 0:D.length)),_.code===200&&(w.value=_.data.records||_.data||[],n.value=_.data.total||((u=_.data)==null?void 0:u.length)||0,console.log("âœ… [ä¼šå‘˜åˆ—è¡¨] åˆ—è¡¨æ•°æ®å·²è®¾ç½®:",{count:w.value.length,total:n.value}))}catch{L.error("èŽ·å–ä¼šå‘˜åˆ—è¡¨å¤±è´¥")}finally{S.value=!1}},y=async()=>{var x,o,D,u,_,A;try{console.log("ðŸ“Š [ä¼šå‘˜ç»Ÿè®¡] å¼€å§‹èŽ·å–ç»Ÿè®¡æ•°æ®...");const[I,V]=await Promise.all([j({page:1,size:1}),q({page:1,size:1})]);console.log("ðŸ“Š [ä¼šå‘˜ç»Ÿè®¡] æ´»è·ƒç”¨æˆ·å“åº”:",I),console.log("ðŸ“Š [ä¼šå‘˜ç»Ÿè®¡] æµå¤±é£Žé™©å“åº”:",V),b.value=((x=I.data)==null?void 0:x.total)||((o=I.data)==null?void 0:o.length)||0,t.value=((D=I.data)==null?void 0:D.total)||((u=I.data)==null?void 0:u.length)||0,p.value=((_=V.data)==null?void 0:_.total)||((A=V.data)==null?void 0:A.length)||0,console.log("âœ… [ä¼šå‘˜ç»Ÿè®¡] ç»Ÿè®¡æ•°æ®å·²è®¾ç½®:",{totalMembers:b.value,activeMembers:t.value,churnRiskMembers:p.value})}catch(I){console.error("âŒ [ä¼šå‘˜ç»Ÿè®¡] èŽ·å–å¤±è´¥:",I)}},k=x=>x>=80?"success":x>=60?"info":x>=40?"warning":"danger";return(x,o)=>{const D=g("el-card"),u=g("el-col"),_=g("el-row"),A=g("el-option"),I=g("el-select"),V=g("el-radio-button"),Q=g("el-radio-group"),U=g("el-table-column"),Y=g("el-tag"),Z=g("el-table"),ee=g("el-pagination"),te=W("loading");return z(),P("div",ce,[e(_,{gutter:20,class:"stats-row"},{default:a(()=>[e(u,{xs:24,sm:8},{default:a(()=>[e(D,{class:"stat-card"},{default:a(()=>[m("div",ue,[m("div",pe,[o[4]||(o[4]=m("p",{class:"stat-label"},"æ€»ä¼šå‘˜æ•°",-1)),m("p",ge,R(b.value),1)])])]),_:1})]),_:1}),e(u,{xs:24,sm:8},{default:a(()=>[e(D,{class:"stat-card"},{default:a(()=>[m("div",me,[m("div",ve,[o[5]||(o[5]=m("p",{class:"stat-label"},"æ´»è·ƒä¼šå‘˜",-1)),m("p",_e,R(t.value),1)])])]),_:1})]),_:1}),e(u,{xs:24,sm:8},{default:a(()=>[e(D,{class:"stat-card"},{default:a(()=>[m("div",fe,[m("div",he,[o[6]||(o[6]=m("p",{class:"stat-label"},"æµå¤±é£Žé™©",-1)),m("p",ye,R(p.value),1)])])]),_:1})]),_:1})]),_:1}),e(D,{class:"chart-card"},{header:a(()=>[m("div",De,[o[7]||(o[7]=m("span",null,"ä¼šå‘˜æ´»è·ƒåº¦è¶‹åŠ¿",-1)),e(I,{modelValue:i.value,"onUpdate:modelValue":o[0]||(o[0]=C=>i.value=C),onChange:r,size:"small",style:{width:"120px"}},{default:a(()=>[e(A,{label:"æœ€è¿‘7å¤©",value:7}),e(A,{label:"æœ€è¿‘15å¤©",value:15}),e(A,{label:"æœ€è¿‘30å¤©",value:30})]),_:1},8,["modelValue"])])]),default:a(()=>[l.value.xAxisData?(z(),O(J,{key:0,data:l.value,height:"350px","y-axis-name":"æ´»è·ƒåº¦","show-area":!0},null,8,["data"])):B("",!0)]),_:1}),e(D,null,{header:a(()=>[m("div",be,[o[11]||(o[11]=m("span",null,"ä¼šå‘˜åˆ—è¡¨",-1)),e(Q,{modelValue:h.value,"onUpdate:modelValue":o[1]||(o[1]=C=>h.value=C),onChange:s,size:"small"},{default:a(()=>[e(V,{value:"active"},{default:a(()=>[...o[8]||(o[8]=[N("æ´»è·ƒç”¨æˆ·",-1)])]),_:1}),e(V,{value:"inactive"},{default:a(()=>[...o[9]||(o[9]=[N("ä¸æ´»è·ƒç”¨æˆ·",-1)])]),_:1}),e(V,{value:"churn"},{default:a(()=>[...o[10]||(o[10]=[N("æµå¤±é£Žé™©",-1)])]),_:1})]),_:1},8,["modelValue"])])]),default:a(()=>[$((z(),O(Z,{data:w.value,stripe:""},{default:a(()=>[e(U,{prop:"userId",label:"ç”¨æˆ·ID",width:"100"}),e(U,{prop:"username",label:"ç”¨æˆ·å"}),e(U,{prop:"realName",label:"çœŸå®žå§“å"}),e(U,{prop:"activityScore",label:"æ´»è·ƒåº¦",width:"100"},{default:a(({row:C})=>[e(Y,{type:k(C.activityScore)},{default:a(()=>[N(R(C.activityScore),1)]),_:2},1032,["type"])]),_:1}),e(U,{prop:"lastActiveTime",label:"æœ€åŽæ´»è·ƒ",width:"180"})]),_:1},8,["data"])),[[te,S.value]]),m("div",xe,[e(ee,{"current-page":v.value,"onUpdate:currentPage":o[2]||(o[2]=C=>v.value=C),"page-size":c.value,"onUpdate:pageSize":o[3]||(o[3]=C=>c.value=C),total:n.value,layout:"total, prev, pager, next",onCurrentChange:s},null,8,["current-page","page-size","total"])])]),_:1})])}}},we=E(Se,[["__scopeId","data-v-4964a8cc"]]),K={__name:"BarChart",props:{width:{type:String,default:"100%"},height:{type:String,default:"400px"},data:{type:Object,required:!0},title:{type:String,default:""},yAxisName:{type:String,default:""},horizontal:{type:Boolean,default:!1},stack:{type:Boolean,default:!1}},setup(d,{expose:b}){const t=d,p=f(null);let i=null;M(()=>{h(),window.addEventListener("resize",w)}),F(()=>{i&&(i.dispose(),i=null),window.removeEventListener("resize",w)}),G(()=>t.data,()=>{S()},{deep:!0});const h=()=>{if(!p.value)return;const v=()=>{p.value&&p.value.clientWidth>0?(i=H(p.value),S()):setTimeout(v,50)};setTimeout(v,0)},S=()=>{var c;if(!i||!t.data)return;const v={title:{text:t.title,left:"center",textStyle:{fontSize:16,fontWeight:500}},tooltip:{trigger:"axis",axisPointer:{type:"shadow"}},legend:{top:t.title?35:10,data:((c=t.data.series)==null?void 0:c.map(n=>n.name))||[]},grid:{left:t.horizontal?10:60,right:t.horizontal?10:50,bottom:t.horizontal?10:60,top:t.title?70:50,containLabel:!0},xAxis:{type:t.horizontal?"value":"category",data:t.horizontal?void 0:t.data.xAxisData||[],name:t.horizontal?t.yAxisName:""},yAxis:{type:t.horizontal?"category":"value",data:t.horizontal?t.data.xAxisData||[]:void 0,name:t.horizontal?"":t.yAxisName,axisLabel:t.horizontal?{interval:0,fontSize:13}:void 0,inverse:!!t.horizontal},series:(t.data.series||[]).map(n=>({name:n.name,type:"bar",data:n.data,stack:t.stack?"total":void 0,barWidth:t.horizontal?16:void 0,label:{show:t.horizontal,position:t.horizontal?"right":"top",fontSize:12},emphasis:{label:{show:!0,position:t.horizontal?"right":"top"}}}))};i.setOption(v,!0)},w=()=>{i&&i.resize()};return b({resize:w}),(v,c)=>(z(),P("div",{ref_key:"chartRef",ref:p,style:X({width:d.width,height:d.height})},null,4))}},ze={class:"course-analysis-container"},Ae={class:"card-header"},Ce={__name:"CourseAnalysis",setup(d){const b=f(7),t=f(!1),p=f([]),i=f([]),h=f({xAxisData:[],series:[]});M(()=>{S(),w()});const S=async()=>{var v;t.value=!0;try{const c=new Date,n=new Date;n.setDate(n.getDate()-b.value),console.log("ðŸ“Š [è¯¾ç¨‹çƒ­åº¦] è¯·æ±‚å‚æ•°:",{startDate:n.toISOString().split("T")[0],endDate:c.toISOString().split("T")[0],limit:10});const l=await oe({startDate:n.toISOString().split("T")[0],endDate:c.toISOString().split("T")[0],limit:10});console.log("ðŸ“Š [è¯¾ç¨‹çƒ­åº¦] å“åº”æ•°æ®:",l),console.log("ðŸ“Š [è¯¾ç¨‹çƒ­åº¦] æ•°æ®é•¿åº¦:",(v=l.data)==null?void 0:v.length),console.log("ðŸ“Š [è¯¾ç¨‹çƒ­åº¦] æ•°æ®å†…å®¹:",l.data),l.code===200&&l.data&&l.data.length>0?(h.value={xAxisData:l.data.map(r=>r.courseName),series:[{name:"çƒ­åº¦åˆ†æ•°",data:l.data.map(r=>r.avgPopularityScore||r.popularityScore||r.score||0)}]},console.log("âœ… [è¯¾ç¨‹çƒ­åº¦] å›¾è¡¨æ•°æ®å·²è®¾ç½®:",h.value)):console.warn("âš ï¸ [è¯¾ç¨‹çƒ­åº¦] æ— æ•°æ®æˆ–æ•°æ®ä¸ºç©º")}catch(c){console.error("âŒ [è¯¾ç¨‹çƒ­åº¦] èŽ·å–å¤±è´¥:",c),L.error("èŽ·å–è¯¾ç¨‹æŽ’è¡Œæ¦œå¤±è´¥")}finally{t.value=!1}},w=async()=>{try{const v=new Date,c=new Date;c.setDate(c.getDate()-30);const n={startDate:c.toISOString().split("T")[0],endDate:v.toISOString().split("T")[0],limit:5},[l,r]=await Promise.all([ne(n),se(n)]);l.code===200&&(p.value=l.data||[]),r.code===200&&(i.value=r.data||[])}catch(v){console.error("èŽ·å–çƒ­é—¨/å†·é—¨è¯¾ç¨‹å¤±è´¥:",v)}};return(v,c)=>{const n=g("el-option"),l=g("el-select"),r=g("el-card"),s=g("el-table-column"),y=g("el-tag"),k=g("el-table"),x=g("el-col"),o=g("el-row"),D=W("loading");return z(),P("div",ze,[e(r,null,{header:a(()=>[m("div",Ae,[c[1]||(c[1]=m("span",null,"è¯¾ç¨‹çƒ­åº¦æŽ’è¡Œæ¦œ",-1)),e(l,{modelValue:b.value,"onUpdate:modelValue":c[0]||(c[0]=u=>b.value=u),onChange:S,size:"small",style:{width:"120px"}},{default:a(()=>[e(n,{label:"æœ€è¿‘7å¤©",value:7}),e(n,{label:"æœ€è¿‘15å¤©",value:15}),e(n,{label:"æœ€è¿‘30å¤©",value:30})]),_:1},8,["modelValue"])])]),default:a(()=>[h.value.xAxisData?(z(),O(K,{key:0,data:h.value,height:"400px","y-axis-name":"çƒ­åº¦åˆ†æ•°",horizontal:!0},null,8,["data"])):B("",!0)]),_:1}),e(o,{gutter:20,class:"course-lists"},{default:a(()=>[e(x,{xs:24,sm:12},{default:a(()=>[e(r,null,{header:a(()=>[...c[2]||(c[2]=[m("span",null,"çƒ­é—¨è¯¾ç¨‹",-1)])]),default:a(()=>[$((z(),O(k,{data:p.value,stripe:""},{default:a(()=>[e(s,{prop:"courseName",label:"è¯¾ç¨‹åç§°"}),e(s,{prop:"popularityScore",label:"çƒ­åº¦",width:"100"},{default:a(({row:u})=>[e(y,{type:"success"},{default:a(()=>[N(R(u.popularityScore),1)]),_:2},1024)]),_:1}),e(s,{prop:"enrollCount",label:"æŠ¥åæ•°",width:"100"})]),_:1},8,["data"])),[[D,t.value]])]),_:1})]),_:1}),e(x,{xs:24,sm:12},{default:a(()=>[e(r,null,{header:a(()=>[...c[3]||(c[3]=[m("span",null,"å†·é—¨è¯¾ç¨‹",-1)])]),default:a(()=>[$((z(),O(k,{data:i.value,stripe:""},{default:a(()=>[e(s,{prop:"courseName",label:"è¯¾ç¨‹åç§°"}),e(s,{prop:"popularityScore",label:"çƒ­åº¦",width:"100"},{default:a(({row:u})=>[e(y,{type:"warning"},{default:a(()=>[N(R(u.popularityScore),1)]),_:2},1024)]),_:1}),e(s,{prop:"enrollCount",label:"æŠ¥åæ•°",width:"100"})]),_:1},8,["data"])),[[D,t.value]])]),_:1})]),_:1})]),_:1})])}}},Te=E(Ce,[["__scopeId","data-v-c2b2fb1d"]]),Ie={class:"venue-analysis-container"},ke={class:"card-header"},Oe={__name:"VenueAnalysis",setup(d){const b=f(7),t=f(!1),p=f([]),i=f({xAxisData:[],series:[]}),h=f({xAxisData:[],series:[]});M(()=>{S(),w(),v()});const S=async()=>{var n;t.value=!0;try{const l=new Date,r=new Date;r.setDate(r.getDate()-b.value),console.log("ðŸ€ [åœºåœ°ä½¿ç”¨çŽ‡] è¯·æ±‚å‚æ•°:",{startDate:r.toISOString().split("T")[0],endDate:l.toISOString().split("T")[0],limit:10});const s=await re({startDate:r.toISOString().split("T")[0],endDate:l.toISOString().split("T")[0],limit:10});console.log("ðŸ€ [åœºåœ°ä½¿ç”¨çŽ‡] å“åº”æ•°æ®:",s),console.log("ðŸ€ [åœºåœ°ä½¿ç”¨çŽ‡] æ•°æ®é•¿åº¦:",(n=s.data)==null?void 0:n.length),console.log("ðŸ€ [åœºåœ°ä½¿ç”¨çŽ‡] æ•°æ®å†…å®¹:",s.data),s.code===200&&s.data&&s.data.length>0?(i.value={xAxisData:s.data.map(y=>y.venueName),series:[{name:"ä½¿ç”¨çŽ‡",data:s.data.map(y=>y.avgUsageRate||y.usageRate||y.rate||0)}]},console.log("âœ… [åœºåœ°ä½¿ç”¨çŽ‡] å›¾è¡¨æ•°æ®å·²è®¾ç½®:",i.value)):console.warn("âš ï¸ [åœºåœ°ä½¿ç”¨çŽ‡] æ— æ•°æ®æˆ–æ•°æ®ä¸ºç©º")}catch(l){console.error("âŒ [åœºåœ°ä½¿ç”¨çŽ‡] èŽ·å–å¤±è´¥:",l),L.error("èŽ·å–åœºåœ°æŽ’è¡Œæ¦œå¤±è´¥")}finally{t.value=!1}},w=async()=>{var n;try{const l=new Date,r=new Date;r.setDate(r.getDate()-30),console.log("ðŸ’° [åœºåœ°æ”¶å…¥] è¯·æ±‚å‚æ•°:",{startDate:r.toISOString().split("T")[0],endDate:l.toISOString().split("T")[0]});const s=await ie({startDate:r.toISOString().split("T")[0],endDate:l.toISOString().split("T")[0]});console.log("ðŸ’° [åœºåœ°æ”¶å…¥] å“åº”æ•°æ®:",s),console.log("ðŸ’° [åœºåœ°æ”¶å…¥] æ•°æ®é•¿åº¦:",(n=s.data)==null?void 0:n.length),console.log("ðŸ’° [åœºåœ°æ”¶å…¥] æ•°æ®å†…å®¹:",s.data),s.code===200&&s.data&&s.data.length>0?(h.value={xAxisData:s.data.map(y=>y.venueName||y.analysisDate||y.date),series:[{name:"æ€»æ”¶å…¥",data:s.data.map(y=>y.totalRevenue||y.revenue||0)}]},console.log("âœ… [åœºåœ°æ”¶å…¥] å›¾è¡¨æ•°æ®å·²è®¾ç½®:",h.value)):console.warn("âš ï¸ [åœºåœ°æ”¶å…¥] æ— æ•°æ®æˆ–æ•°æ®ä¸ºç©º")}catch(l){console.error("èŽ·å–æ”¶å…¥åˆ†æžå¤±è´¥:",l)}},v=async()=>{var n;try{const l=new Date,r=new Date;r.setDate(r.getDate()-7),console.log("â° [é«˜å³°æ—¶æ®µ] è¯·æ±‚å‚æ•°:",{startDate:r.toISOString().split("T")[0],endDate:l.toISOString().split("T")[0]});const s=await de({startDate:r.toISOString().split("T")[0],endDate:l.toISOString().split("T")[0]});console.log("â° [é«˜å³°æ—¶æ®µ] å“åº”æ•°æ®:",s),console.log("â° [é«˜å³°æ—¶æ®µ] æ•°æ®é•¿åº¦:",(n=s.data)==null?void 0:n.length),console.log("â° [é«˜å³°æ—¶æ®µ] æ•°æ®å†…å®¹:",s.data),s.code===200&&s.data?(p.value=s.data||[],console.log("âœ… [é«˜å³°æ—¶æ®µ] æ•°æ®å·²è®¾ç½®:",p.value)):console.warn("âš ï¸ [é«˜å³°æ—¶æ®µ] æ— æ•°æ®æˆ–æ•°æ®ä¸ºç©º")}catch(l){console.error("âŒ [é«˜å³°æ—¶æ®µ] èŽ·å–å¤±è´¥:",l)}},c=n=>n>=80?"#67C23A":n>=60?"#E6A23C":"#F56C6C";return(n,l)=>{const r=g("el-option"),s=g("el-select"),y=g("el-card"),k=g("el-table-column"),x=g("el-progress"),o=g("el-table"),D=W("loading");return z(),P("div",Ie,[e(y,null,{header:a(()=>[m("div",ke,[l[1]||(l[1]=m("span",null,"åœºåœ°ä½¿ç”¨çŽ‡æŽ’è¡Œ",-1)),e(s,{modelValue:b.value,"onUpdate:modelValue":l[0]||(l[0]=u=>b.value=u),onChange:S,size:"small",style:{width:"120px"}},{default:a(()=>[e(r,{label:"æœ€è¿‘7å¤©",value:7}),e(r,{label:"æœ€è¿‘15å¤©",value:15}),e(r,{label:"æœ€è¿‘30å¤©",value:30})]),_:1},8,["modelValue"])])]),default:a(()=>[i.value.xAxisData?(z(),O(K,{key:0,data:i.value,height:"400px","y-axis-name":"ä½¿ç”¨çŽ‡(%)",horizontal:!0},null,8,["data"])):B("",!0)]),_:1}),e(y,{class:"revenue-card"},{header:a(()=>[...l[2]||(l[2]=[m("span",null,"åœºåœ°æ”¶å…¥åˆ†æž",-1)])]),default:a(()=>[h.value.xAxisData?(z(),O(J,{key:0,data:h.value,height:"350px","y-axis-name":"æ”¶å…¥(å…ƒ)","show-area":!0},null,8,["data"])):B("",!0)]),_:1}),e(y,null,{header:a(()=>[...l[3]||(l[3]=[m("span",null,"é«˜å³°æ—¶æ®µåˆ†å¸ƒ",-1)])]),default:a(()=>[$((z(),O(o,{data:p.value,stripe:""},{default:a(()=>[e(k,{prop:"periodName",label:"æ—¶æ®µ",width:"200"}),e(k,{prop:"bookingCount",label:"é¢„è®¢æ¬¡æ•°",width:"120"}),e(k,{prop:"percentage",label:"å æ¯”",width:"200"},{default:a(({row:u})=>[e(x,{percentage:u.percentage,color:c(u.percentage)},null,8,["percentage","color"])]),_:1})]),_:1},8,["data"])),[[D,t.value]])]),_:1})])}}},Ve=E(Oe,[["__scopeId","data-v-319cce7c"]]),Re={class:"data-analysis-container"},Ne={__name:"DataAnalysis",setup(d){const b=f("member");return(t,p)=>{const i=g("el-tab-pane"),h=g("el-tabs");return z(),P("div",Re,[p[1]||(p[1]=m("h2",{class:"page-title"},"æ•°æ®åˆ†æž",-1)),e(h,{modelValue:b.value,"onUpdate:modelValue":p[0]||(p[0]=S=>b.value=S),type:"card",class:"analysis-tabs"},{default:a(()=>[e(i,{label:"ä¼šå‘˜æ´»è·ƒåº¦",name:"member"},{default:a(()=>[e(we)]),_:1}),e(i,{label:"è¯¾ç¨‹çƒ­åº¦",name:"course"},{default:a(()=>[e(Te)]),_:1}),e(i,{label:"åœºåœ°ä½¿ç”¨",name:"venue"},{default:a(()=>[e(Ve)]),_:1})]),_:1},8,["modelValue"])])}}},Me=E(Ne,[["__scopeId","data-v-30a443b7"]]);export{Me as default};
