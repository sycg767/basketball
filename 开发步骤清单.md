# 篮球馆管理系统 - 开发任务清单

## 📋 开发顺序说明

**开发原则**: 后端优先 → 用户端前端 → 管理端前端
**开发策略**: 纵向开发（一个功能模块的后端+前端一起完成）
**开发周期**: 7周（49天）

---

## 🎯 总体开发顺序

```
第一阶段：基础搭建（1周）
  ├── 环境准备
  ├── 后端项目搭建
  ├── 前端项目搭建
  └── 开发规范确认

第二阶段：核心功能（3周）
  ├── 用户认证模块（后端 → 用户前端）
  ├── 场馆管理模块（后端 → 用户前端 → 管理前端）
  ├── 预订管理模块（后端 → 用户前端 → 管理前端）✨ 核心
  └── 支付模块（后端 → 用户前端）

第三阶段：扩展功能（2周）
  ├── 课程管理模块（后端 → 用户前端 → 管理前端）
  ├── 会员管理模块（后端 → 用户前端）
  ├── 公告管理模块（后端 → 用户前端 → 管理前端）
  └── 数据统计模块（后端 → 管理前端）

第四阶段：优化完善（1周）
  ├── 管理员用户管理
  ├── 系统设置
  ├── 测试优化
  └── 部署上线
```

---

## 📅 详细开发任务清单

### 第一阶段：基础搭建（第1周）

#### ✅ 任务1：环境准备（Day 1，已完成）
- [x] 安装开发工具（JDK、Maven、Node.js、MySQL、Redis、IDEA、VSCode）
- [x] 创建Git仓库
- [x] 整理开发文档和规范

#### ✅ 任务2：数据库设计（Day 1，已完成）
- [x] 设计数据库表结构
- [x] 创建数据库SQL文件
- [x] 导入数据库并验证

#### 📝 任务3：后端项目搭建（Day 2-3）
**负责人**: 后端开发
**优先级**: ⭐⭐⭐⭐⭐

- [ ] 创建Spring Boot项目
  - [ ] 配置pom.xml依赖（Web、MyBatis-Plus、MySQL、Redis、Lombok、JWT、Swagger）
  - [ ] 创建项目目录结构（参考后端开发规范）
- [ ] 配置文件
  - [ ] application.yml（端口、数据源、Redis）
  - [ ] application-dev.yml（开发环境）
  - [ ] logback-spring.xml（日志配置）
- [ ] 通用模块开发
  - [ ] BaseEntity基础实体类
  - [ ] Result统一返回结果类
  - [ ] PageResult分页结果类
  - [ ] BusinessException业务异常
  - [ ] GlobalExceptionHandler全局异常处理
  - [ ] ErrorCode错误码枚举
  - [ ] 常量类（StatusConstant、RoleConstant、RedisKeyConstant）
- [ ] MyBatis-Plus配置
  - [ ] MyBatisPlusConfig配置类
  - [ ] 配置分页插件
  - [ ] 配置逻辑删除
- [ ] Swagger配置
  - [ ] SwaggerConfig配置类
  - [ ] 测试访问 http://localhost:8080/swagger-ui.html
- [ ] 跨域配置
  - [ ] CorsConfig配置类
- [ ] 测试启动
  - [ ] 验证项目启动成功
  - [ ] 验证数据库连接
  - [ ] 验证Redis连接

**完成标准**: 项目能正常启动，Swagger文档可访问，数据库和Redis连接正常

---

#### ✅ 任务4：用户前端项目搭建（Day 2-3，已完成）
- [x] 创建Vue3项目
- [x] 安装依赖
- [x] 配置Vite
- [x] 创建基础布局
- [x] 测试运行

---

### 第二阶段：核心功能开发（第2-4周）

---

#### 📝 任务5：用户认证模块 - 后端（Day 4-5）
**负责人**: 后端开发
**优先级**: ⭐⭐⭐⭐⭐
**依赖**: 任务3完成

##### 5.1 实体类与Mapper（2小时）
- [ ] 创建User实体类（`entity/User.java`）
  ```java
  - id, username, password, phone, email
  - realName, gender, avatar, status
  - memberLevel, points, balance
  - createTime, updateTime, lastLoginTime
  ```
- [ ] 创建Role实体类（`entity/Role.java`）
- [ ] 创建UserRole实体类（`entity/UserRole.java`）
- [ ] 创建UserMapper接口（`mapper/UserMapper.java`）
- [ ] 创建RoleMapper接口（`mapper/RoleMapper.java`）

##### 5.2 JWT认证配置（3小时）
- [ ] 添加JWT依赖（`pom.xml`）
- [ ] 创建JwtTokenProvider工具类（`security/JwtTokenProvider.java`）
  - [ ] generateToken() 生成Token
  - [ ] getUserIdFromToken() 解析Token
  - [ ] validateToken() 验证Token
- [ ] 创建JwtAuthenticationFilter过滤器（`security/JwtAuthenticationFilter.java`）
- [ ] 创建SecurityConfig配置类（`config/SecurityConfig.java`）
  - [ ] 配置密码加密器BCryptPasswordEncoder
  - [ ] 配置JWT过滤器
  - [ ] 配置接口白名单（/api/auth/**）
- [ ] 配置JWT参数（`application.yml`）
  ```yaml
  jwt:
    secret: basketball_jwt_secret_key
    expiration: 604800
  ```

##### 5.3 DTO和VO（1小时）
- [ ] 创建UserLoginDTO（`dto/request/UserLoginDTO.java`）
  - username, password
- [ ] 创建UserRegisterDTO（`dto/request/UserRegisterDTO.java`）
  - username, password, phone, realName
- [ ] 创建UserVO（`vo/UserVO.java`）
  - 返回用户信息（不包含密码）

##### 5.4 Service业务层（4小时）
- [ ] 创建IUserService接口（`service/IUserService.java`）
- [ ] 实现UserServiceImpl（`service/impl/UserServiceImpl.java`）
  - [ ] register() 用户注册
    - 校验用户名是否存在
    - 校验手机号是否存在
    - 密码BCrypt加密
    - 保存用户，默认角色MEMBER
  - [ ] login() 用户登录
    - 查询用户
    - 验证密码
    - 生成JWT Token
    - 缓存用户信息到Redis（2小时）
    - 更新最后登录时间
    - 返回Token和用户信息
  - [ ] getUserInfo() 获取当前用户信息
    - 从Redis获取
    - Redis未命中则查数据库
  - [ ] updateUserInfo() 更新用户信息
    - 更新真实姓名、邮箱、性别
    - 更新Redis缓存
  - [ ] updatePassword() 修改密码
    - 验证原密码
    - 加密新密码
    - 更新数据库

##### 5.5 Controller控制层（2小时）
- [ ] 创建AuthController（`controller/common/AuthController.java`）
  - [ ] POST /api/auth/register - 注册
  - [ ] POST /api/auth/login - 登录
  - [ ] POST /api/auth/logout - 登出
- [ ] 创建UserController（`controller/app/UserController.java`）
  - [ ] GET /api/user/info - 获取当前用户信息
  - [ ] PUT /api/user/info - 更新用户信息
  - [ ] PUT /api/user/password - 修改密码

##### 5.6 测试（2小时）
- [ ] Postman测试注册接口
  - 测试用户名重复
  - 测试手机号重复
  - 测试注册成功
- [ ] Postman测试登录接口
  - 测试用户名错误
  - 测试密码错误
  - 测试登录成功，验证Token
- [ ] Postman测试用户信息接口
  - 测试未携带Token（401）
  - 测试携带Token获取信息
- [ ] Postman测试修改信息
- [ ] Postman测试修改密码

**完成标准**: 所有接口测试通过，Swagger文档完整，Token认证正常工作

---

#### ✅ 任务6：用户认证模块 - 用户前端（Day 6，已完成）
- [x] 登录页面（Login.vue）
- [x] 注册页面（Register.vue）
- [x] 个人中心（Profile.vue）
- [x] 首页（Index.vue）
- [x] 前后端联调测试

---

#### 📝 任务7：场馆管理模块 - 后端（Day 7-8）
**负责人**: 后端开发
**优先级**: ⭐⭐⭐⭐⭐
**依赖**: 任务5完成

##### 7.1 实体类与Mapper（2小时）
- [ ] 创建Venue实体类（`entity/Venue.java`）
  ```java
  - id, venueName, venueCode, venueType
  - area, capacity, floorType, facilities
  - status, imageUrl, images, description
  - location, sortOrder
  ```
- [ ] 创建VenuePrice实体类（`entity/VenuePrice.java`）
  ```java
  - id, venueId, timeType, timePeriod
  - startTime, endTime
  - price, memberPrice, status
  ```
- [ ] 创建VenueMapper接口
- [ ] 创建VenuePriceMapper接口

##### 7.2 DTO和VO（1小时）
- [ ] 创建VenueVO
- [ ] 创建VenueCreateDTO
- [ ] 创建VenueUpdateDTO
- [ ] 创建VenueQueryDTO
- [ ] 创建VenuePriceVO

##### 7.3 Service业务层（4小时）
- [ ] 创建IVenueService接口
- [ ] 实现VenueServiceImpl
  - [ ] createVenue() 添加场地（管理员）
  - [ ] updateVenue() 修改场地
  - [ ] deleteVenue() 删除场地（逻辑删除）
    - 检查是否有未完成预订
  - [ ] getVenueById() 查询场地详情
  - [ ] listVenues() 场地列表（分页）
    - 支持类型筛选
    - 支持状态筛选
    - 支持关键字搜索
  - [ ] listAvailableVenues() 查询可用场地
  - [ ] setVenuePrice() 设置场地价格
  - [ ] getVenuePrice() 获取场地价格
  - [ ] calculatePrice() 计算预订价格
    - 根据时段、会员等级计算

##### 7.4 Controller控制层（2小时）
- [ ] 创建VenueController（用户端）
  - [ ] GET /api/venue/list - 场地列表
  - [ ] GET /api/venue/{id} - 场地详情
  - [ ] GET /api/venue/available - 可用场地
- [ ] 创建AdminVenueController（管理端）
  - [ ] POST /api/admin/venue - 添加场地
  - [ ] PUT /api/admin/venue/{id} - 修改场地
  - [ ] DELETE /api/admin/venue/{id} - 删除场地
  - [ ] POST /api/admin/venue/price - 设置价格
  - [ ] GET /api/admin/venue/price/{venueId} - 查询价格

##### 7.5 测试（2小时）
- [ ] 测试添加场地
- [ ] 测试场地列表查询
- [ ] 测试场地详情
- [ ] 测试设置价格
- [ ] 测试价格计算

**完成标准**: 场地CRUD功能正常，价格设置和计算正确

---

#### 📝 任务8：场馆管理模块 - 用户前端（Day 9）
**负责人**: 前端开发
**优先级**: ⭐⭐⭐⭐
**依赖**: 任务7完成

##### 8.1 API封装（30分钟）
- [ ] 创建api/venue.js
  - [ ] getVenueList(params) 场地列表
  - [ ] getVenueDetail(id) 场地详情
  - [ ] getAvailableVenues() 可用场地

##### 8.2 页面开发（4小时）
- [ ] 创建views/venue/VenueList.vue
  - [ ] 场地列表展示（卡片/列表切换）
  - [ ] 类型筛选（室内/室外）
  - [ ] 状态筛选
  - [ ] 关键字搜索
  - [ ] 分页
- [ ] 创建views/venue/VenueDetail.vue
  - [ ] 场地基本信息
  - [ ] 场地图片轮播
  - [ ] 场地设施
  - [ ] 价格表
  - [ ] "立即预订"按钮

##### 8.3 组件开发（2小时）
- [ ] 创建components/VenueCard.vue
  - [ ] 场地卡片
  - [ ] 显示场地图片、名称、类型、价格
  - [ ] 点击跳转详情

##### 8.4 路由配置（15分钟）
- [ ] 添加路由
  - /venue/list - 场地列表
  - /venue/:id - 场地详情

##### 8.5 联调测试（1小时）
- [ ] 测试场地列表展示
- [ ] 测试筛选功能
- [ ] 测试场地详情
- [ ] 测试图片展示

**完成标准**: 用户可以浏览场地列表和详情，筛选功能正常

---

#### 📝 任务9：场馆管理模块 - 管理前端（Day 10）
**负责人**: 前端开发
**优先级**: ⭐⭐⭐
**依赖**: 任务7完成

##### 9.1 API封装（30分钟）
- [ ] 扩展api/venue.js
  - [ ] createVenue(data) 添加场地
  - [ ] updateVenue(id, data) 修改场地
  - [ ] deleteVenue(id) 删除场地
  - [ ] setVenuePrice(data) 设置价格

##### 9.2 页面开发（5小时）
- [ ] 创建views/admin/venue/VenueManage.vue
  - [ ] 场地列表表格
  - [ ] 添加场地按钮
  - [ ] 编辑/删除操作
  - [ ] 搜索功能
- [ ] 创建场地添加/编辑对话框
  - [ ] 场地信息表单
  - [ ] 图片上传
  - [ ] 表单验证
- [ ] 创建价格设置对话框
  - [ ] 价格配置表单
  - [ ] 分时段定价

##### 9.3 权限控制（1小时）
- [ ] 添加管理员路由守卫
- [ ] 检查用户角色

##### 9.4 联调测试（1小时）
- [ ] 测试添加场地
- [ ] 测试编辑场地
- [ ] 测试删除场地
- [ ] 测试价格设置

**完成标准**: 管理员可以完整管理场地和价格

---

#### 📝 任务10：预订管理模块 - 后端（Day 11-14）✨核心功能
**负责人**: 后端开发
**优先级**: ⭐⭐⭐⭐⭐
**依赖**: 任务5、7完成

##### 10.1 实体类与Mapper（2小时）
- [ ] 创建Booking实体类（`entity/Booking.java`）
  ```java
  - id, bookingNo, userId, venueId
  - bookingDate, startTime, endTime, duration
  - bookingType, totalPrice, discountAmount, actualPrice
  - paymentMethod, status, cancelReason, cancelTime
  - contactName, contactPhone, peopleCount, remark
  - isCheckedIn, checkInTime
  - createTime, updateTime, payTime, expireTime
  ```
- [ ] 创建BookingDetail实体类
- [ ] 创建BookingMapper接口
- [ ] 创建BookingDetailMapper接口

##### 10.2 Redis分布式锁（3小时）
- [ ] 创建RedisLockUtil工具类（`utils/RedisLockUtil.java`）
  - [ ] tryLock(key, value, expireTime) 获取锁
  - [ ] unlock(key, value) 释放锁
- [ ] 测试分布式锁功能

##### 10.3 DTO和VO（1小时）
- [ ] 创建BookingCreateDTO
  ```java
  - venueId, bookingDate
  - startTime, endTime
  - contactName, contactPhone
  - peopleCount, remark
  ```
- [ ] 创建BookingVO
- [ ] 创建BookingQueryDTO
- [ ] 创建AvailableSlotVO（可用时段）

##### 10.4 Service业务层（6小时）
- [ ] 创建IBookingService接口
- [ ] 实现BookingServiceImpl
  - [ ] getAvailableSlots() 查询可用时段
    - 根据场地ID和日期
    - 查询该日期所有预订
    - 计算空闲时段
  - [ ] createBooking() 创建预订 ⭐核心
    - 参数校验
    - 使用Redis分布式锁（lockKey: venue_id + date）
    - 检查时段是否可用
    - 计算价格（会员折扣）
    - 生成预订编号
    - 创建预订记录（待支付状态）
    - 设置过期时间（30分钟）
    - 返回预订信息
  - [ ] cancelBooking() 取消预订
    - 检查预订状态
    - 检查取消规则（提前2小时）
    - 更新状态为已取消
    - 如果已支付，创建退款记录
  - [ ] getMyBookings() 我的预订列表
    - 分页查询
    - 状态筛选
  - [ ] getBookingDetail() 预订详情
  - [ ] checkIn() 签到
  - [ ] getBookingStatistics() 预订统计（管理员）

##### 10.5 定时任务（2小时）
- [ ] 创建BookingScheduledTask（`scheduled/BookingScheduledTask.java`）
  - [ ] 超时订单自动取消
    - 每5分钟执行
    - 查询待支付且已过期的订单
    - 批量取消

##### 10.6 Controller控制层（2小时）
- [ ] 创建BookingController（用户端）
  - [ ] GET /api/booking/available - 查询可用时段
  - [ ] POST /api/booking - 创建预订
  - [ ] GET /api/booking/my - 我的预订列表
  - [ ] GET /api/booking/{id} - 预订详情
  - [ ] PUT /api/booking/{id}/cancel - 取消预订
  - [ ] PUT /api/booking/{id}/checkin - 签到
- [ ] 创建AdminBookingController（管理端）
  - [ ] GET /api/admin/booking/list - 所有预订列表
  - [ ] GET /api/admin/booking/statistics - 预订统计

##### 10.7 测试（3小时）
- [ ] 测试查询可用时段
- [ ] 测试创建预订
- [ ] 测试并发预订（JMeter）
  - 多个用户同时预订同一时段
  - 验证只有一个成功
- [ ] 测试取消预订
- [ ] 测试定时任务
- [ ] 测试我的预订列表

**完成标准**: 预订功能正常，并发控制有效，定时任务运行正常

---

#### 📝 任务11：预订管理模块 - 用户前端（Day 15-16）
**负责人**: 前端开发
**优先级**: ⭐⭐⭐⭐⭐
**依赖**: 任务10完成

##### 11.1 API封装（30分钟）
- [ ] 创建api/booking.js
  - [ ] getAvailableSlots(venueId, date)
  - [ ] createBooking(data)
  - [ ] getMyBookings(params)
  - [ ] getBookingDetail(id)
  - [ ] cancelBooking(id, reason)

##### 11.2 组件开发（4小时）
- [ ] 创建components/BookingCalendar.vue
  - [ ] 日历组件
  - [ ] 选择日期
  - [ ] 显示可预订日期
- [ ] 创建components/TimeSlotSelector.vue
  - [ ] 时段选择组件
  - [ ] 显示可用/不可用时段
  - [ ] 多选时段
  - [ ] 实时计算价格

##### 11.3 页面开发（6小时）
- [ ] 创建views/booking/BookingCreate.vue
  - [ ] 场地选择
  - [ ] 日期选择（日历）
  - [ ] 时段选择
  - [ ] 联系人信息
  - [ ] 价格计算显示
  - [ ] 提交预订按钮
- [ ] 创建views/booking/BookingList.vue
  - [ ] 预订列表
  - [ ] 状态筛选（全部/待支付/已支付/已完成/已取消）
  - [ ] 状态标签
  - [ ] 操作按钮（支付/取消/查看详情）
- [ ] 创建views/booking/BookingDetail.vue
  - [ ] 预订详细信息
  - [ ] 场地信息
  - [ ] 时间信息
  - [ ] 价格信息
  - [ ] 操作按钮

##### 11.4 路由配置（15分钟）
- [ ] 添加路由
  - /booking/create - 创建预订
  - /booking/list - 我的预订
  - /booking/:id - 预订详情

##### 11.5 联调测试（2小时）
- [ ] 测试完整预订流程
- [ ] 测试时段选择
- [ ] 测试价格计算
- [ ] 测试取消预订
- [ ] 测试预订列表

**完成标准**: 用户可以完整完成预订流程，体验流畅

---

#### 📝 任务12：预订管理模块 - 管理前端（Day 17）
**负责人**: 前端开发
**优先级**: ⭐⭐⭐
**依赖**: 任务10完成

##### 12.1 API封装（30分钟）
- [ ] 扩展api/booking.js
  - [ ] getAllBookings(params) 所有预订
  - [ ] getBookingStatistics() 预订统计

##### 12.2 页面开发（5小时）
- [ ] 创建views/admin/booking/BookingManage.vue
  - [ ] 预订列表表格
  - [ ] 搜索功能（用户、场地、日期）
  - [ ] 状态筛选
  - [ ] 查看详情
  - [ ] 导出Excel

##### 12.3 联调测试（1小时）
- [ ] 测试预订管理功能

**完成标准**: 管理员可以查看和管理所有预订

---

#### 📝 任务13：支付模块 - 后端（Day 18-19）
**负责人**: 后端开发
**优先级**: ⭐⭐⭐⭐
**依赖**: 任务10完成

##### 13.1 实体类与Mapper（1小时）
- [ ] 创建Payment实体类
  ```java
  - id, orderNo, orderType, userId
  - amount, payMethod, payStatus
  - transactionId, payTime
  - refundAmount, refundTime
  - title, description, remark
  ```
- [ ] 创建Refund实体类
- [ ] 创建PaymentMapper接口
- [ ] 创建RefundMapper接口

##### 13.2 DTO和VO（30分钟）
- [ ] 创建PaymentCreateDTO
- [ ] 创建PaymentVO
- [ ] 创建RefundDTO

##### 13.3 Service业务层（5小时）
- [ ] 创建IPaymentService接口
- [ ] 实现PaymentServiceImpl
  - [ ] createPayment() 创建支付订单
    - 根据预订ID创建支付记录
    - 生成订单号
    - 返回支付信息
  - [ ] mockPay() 模拟支付（开发阶段）
    - 更新支付状态
    - 更新预订状态为已支付
    - 更新支付时间
  - [ ] handlePayCallback() 支付回调（预留接口）
    - 验证签名
    - 更新支付状态
    - 更新预订状态
  - [ ] getPaymentStatus() 查询支付状态
  - [ ] createRefund() 申请退款
    - 创建退款记录
    - 更新预订状态
  - [ ] processRefund() 处理退款（管理员）

##### 13.4 Controller控制层（1小时）
- [ ] 创建PaymentController
  - [ ] POST /api/payment/create - 创建支付
  - [ ] POST /api/payment/mock - 模拟支付（开发）
  - [ ] GET /api/payment/{orderNo} - 查询支付状态
  - [ ] POST /api/payment/refund - 申请退款
  - [ ] POST /api/payment/callback - 支付回调（预留）

##### 13.5 测试（2小时）
- [ ] 测试创建支付
- [ ] 测试模拟支付
- [ ] 测试支付后预订状态更新
- [ ] 测试退款流程

**完成标准**: 支付流程完整，订单状态正确更新

---

#### 📝 任务14：支付模块 - 用户前端（Day 20）
**负责人**: 前端开发
**优先级**: ⭐⭐⭐⭐
**依赖**: 任务13完成

##### 14.1 API封装（30分钟）
- [ ] 创建api/payment.js
  - [ ] createPayment(bookingId)
  - [ ] mockPay(orderNo)
  - [ ] getPaymentStatus(orderNo)

##### 14.2 页面开发（4小时）
- [ ] 创建views/payment/PaymentPage.vue
  - [ ] 订单信息展示
  - [ ] 支付方式选择（模拟）
  - [ ] 提交支付按钮
- [ ] 创建views/payment/PaymentResult.vue
  - [ ] 支付成功提示
  - [ ] 返回预订列表按钮

##### 14.3 支付轮询（2小时）
- [ ] 实现支付状态轮询
  - 每2秒查询一次
  - 最多查询30次
  - 支付成功跳转结果页

##### 14.4 路由配置（15分钟）
- [ ] 添加路由
  - /payment/:orderNo - 支付页面
  - /payment/result - 支付结果

##### 14.5 联调测试（1小时）
- [ ] 测试完整支付流程
- [ ] 测试支付成功
- [ ] 测试支付轮询

**完成标准**: 支付流程完整，用户体验良好

---

#### 📝 任务15：课程管理模块 - 后端（Day 21-22）
**负责人**: 后端开发
**优先级**: ⭐⭐⭐⭐
**依赖**: 任务5、7完成

##### 15.1 实体类与Mapper（2小时）
- [ ] 创建Course实体类
- [ ] 创建CourseSchedule实体类
- [ ] 创建CourseEnrollment实体类
- [ ] 创建CoachInfo实体类
- [ ] 创建相关Mapper

##### 15.2 DTO和VO（1小时）
- [ ] 创建CourseVO、CourseCreateDTO
- [ ] 创建CourseScheduleVO
- [ ] 创建EnrollmentVO

##### 15.3 Service业务层（5小时）
- [ ] 创建ICourseService接口
- [ ] 实现CourseServiceImpl
  - [ ] createCourse() 发布课程（管理员）
  - [ ] updateCourse() 修改课程
  - [ ] deleteCourse() 删除课程
  - [ ] listCourses() 课程列表（分页、筛选）
  - [ ] getCourseDetail() 课程详情
  - [ ] createSchedule() 创建排期
  - [ ] enrollCourse() 报名课程
    - 检查人数限制
    - 创建报名记录
    - 创建支付订单
  - [ ] cancelEnrollment() 取消报名
  - [ ] getMyCourses() 我的课程
  - [ ] checkIn() 课程签到（教练）

##### 15.4 Controller控制层（2小时）
- [ ] 创建CourseController
  - [ ] GET /api/course/list
  - [ ] GET /api/course/{id}
  - [ ] POST /api/course/enroll
  - [ ] DELETE /api/course/enroll/{id}
  - [ ] GET /api/course/my
- [ ] 创建AdminCourseController
  - [ ] POST /api/admin/course
  - [ ] PUT /api/admin/course/{id}
  - [ ] DELETE /api/admin/course/{id}
  - [ ] POST /api/admin/course/schedule

##### 15.5 测试（2小时）
- [ ] 测试课程CRUD
- [ ] 测试报名功能
- [ ] 测试课程查询

**完成标准**: 课程管理功能完整

---

#### 📝 任务16：课程管理模块 - 用户前端（Day 23）
**负责人**: 前端开发
**优先级**: ⭐⭐⭐
**依赖**: 任务15完成

##### 16.1 API封装（30分钟）
- [ ] 创建api/course.js

##### 16.2 页面开发（5小时）
- [ ] 创建views/course/CourseList.vue
- [ ] 创建views/course/CourseDetail.vue
- [ ] 创建views/course/MyCourses.vue

##### 16.3 联调测试（1小时）
- [ ] 测试课程列表
- [ ] 测试报名流程

**完成标准**: 用户可以浏览课程并报名

---

#### 📝 任务17：课程管理模块 - 管理前端（Day 24）
**负责人**: 前端开发
**优先级**: ⭐⭐⭐
**依赖**: 任务15完成

##### 17.1 页面开发（6小时）
- [ ] 创建views/admin/course/CourseManage.vue
- [ ] 课程添加/编辑功能
- [ ] 排期管理

##### 17.2 联调测试（1小时）
- [ ] 测试课程管理功能

**完成标准**: 管理员可以管理课程

---

### 第三阶段：扩展功能（第5-6周）

#### 📝 任务18：会员管理模块 - 后端（Day 25-26）
**负责人**: 后端开发
**优先级**: ⭐⭐⭐
**依赖**: 任务5完成

##### 18.1 实体类与Mapper（2小时）
- [ ] 创建MemberCardType实体类
- [ ] 创建MemberCard实体类
- [ ] 创建MemberCardRecord实体类
- [ ] 创建PointsRecord实体类
- [ ] 创建相关Mapper

##### 18.2 Service业务层（4小时）
- [ ] 创建IMemberService接口
- [ ] 实现MemberServiceImpl
  - [ ] listCardTypes() 会员卡类型列表
  - [ ] purchaseCard() 购买会员卡
  - [ ] rechargeCard() 会员卡充值
  - [ ] consumeCard() 会员卡消费
  - [ ] getMyCards() 我的会员卡
  - [ ] getCardRecords() 使用记录
  - [ ] getMyPoints() 我的积分
  - [ ] getPointsRecords() 积分明细
  - [ ] addPoints() 消费送积分

##### 18.3 Controller控制层（1小时）
- [ ] 创建MemberController
  - [ ] GET /api/member/card-types
  - [ ] POST /api/member/card/purchase
  - [ ] GET /api/member/card/my
  - [ ] GET /api/member/points
  - [ ] GET /api/member/points/records

##### 18.4 测试（1小时）
- [ ] 测试会员卡功能
- [ ] 测试积分功能

**完成标准**: 会员系统功能完整

---

#### 📝 任务19：会员管理模块 - 用户前端（Day 27）
**负责人**: 前端开发
**优先级**: ⭐⭐⭐
**依赖**: 任务18完成

##### 19.1 API封装（30分钟）
- [ ] 创建api/member.js

##### 19.2 页面开发（5小时）
- [ ] 创建views/member/MemberCard.vue
- [ ] 创建views/member/MemberCardPurchase.vue
- [ ] 创建views/member/Points.vue

##### 19.3 联调测试（1小时）
- [ ] 测试会员卡购买
- [ ] 测试积分功能

**完成标准**: 用户可以购买会员卡和查看积分

---

#### 📝 任务20：公告管理模块 - 后端（Day 28）
**负责人**: 后端开发
**优先级**: ⭐⭐
**依赖**: 无

##### 20.1 实体类与Mapper（1小时）
- [ ] 创建Announcement实体类
- [ ] 创建AnnouncementMapper

##### 20.2 Service业务层（2小时）
- [ ] 创建IAnnouncementService接口
- [ ] 实现AnnouncementServiceImpl
  - [ ] createAnnouncement() 发布公告
  - [ ] updateAnnouncement() 修改公告
  - [ ] deleteAnnouncement() 删除公告
  - [ ] listAnnouncements() 公告列表
  - [ ] getAnnouncementDetail() 公告详情

##### 20.3 Controller控制层（1小时）
- [ ] 创建AnnouncementController
  - [ ] GET /api/announcement/list
  - [ ] GET /api/announcement/{id}
- [ ] 创建AdminAnnouncementController
  - [ ] POST /api/admin/announcement
  - [ ] PUT /api/admin/announcement/{id}
  - [ ] DELETE /api/admin/announcement/{id}

##### 20.4 测试（30分钟）
- [ ] 测试公告CRUD

**完成标准**: 公告功能完整

---

#### 📝 任务21：公告管理模块 - 前端（Day 29）
**负责人**: 前端开发
**优先级**: ⭐⭐
**依赖**: 任务20完成

##### 21.1 用户端（3小时）
- [ ] 创建views/announcement/AnnouncementList.vue
- [ ] 创建views/announcement/AnnouncementDetail.vue
- [ ] 在首页添加公告轮播

##### 21.2 管理端（3小时）
- [ ] 创建views/admin/announcement/AnnouncementManage.vue
- [ ] 公告添加/编辑功能

##### 21.3 联调测试（1小时）
- [ ] 测试公告展示和管理

**完成标准**: 公告功能完整

---

#### 📝 任务22：数据统计模块 - 后端（Day 30-31）
**负责人**: 后端开发
**优先级**: ⭐⭐⭐
**依赖**: 任务10、13完成

##### 22.1 Service业务层（5小时）
- [ ] 创建IStatisticsService接口
- [ ] 实现StatisticsServiceImpl
  - [ ] getTodayData() 今日数据统计
    - 今日订单数、收入、新增用户
  - [ ] getVenueUsage() 场地使用率统计
    - 按日期统计各场地使用率
  - [ ] getRevenueStatistics() 收入统计
    - 日/月/年收入趋势
  - [ ] getUserGrowth() 用户增长统计
  - [ ] getCourseStatistics() 课程统计
  - [ ] getCoachIncome() 教练收入统计

##### 22.2 Controller控制层（1小时）
- [ ] 创建StatisticsController
  - [ ] GET /api/admin/statistics/today
  - [ ] GET /api/admin/statistics/venue-usage
  - [ ] GET /api/admin/statistics/revenue
  - [ ] GET /api/admin/statistics/user-growth

##### 22.3 测试（1小时）
- [ ] 测试各统计接口

**完成标准**: 统计数据准确

---

#### 📝 任务23：数据统计模块 - 管理前端（Day 32-33）
**负责人**: 前端开发
**优先级**: ⭐⭐⭐
**依赖**: 任务22完成

##### 23.1 安装ECharts（15分钟）
- [ ] npm install echarts

##### 23.2 页面开发（8小时）
- [ ] 创建views/admin/Dashboard.vue
  - [ ] 今日数据卡片
  - [ ] 收入趋势图表（折线图）
  - [ ] 场地使用率图表（柱状图）
  - [ ] 用户增长图表（折线图）
  - [ ] 日期筛选

##### 23.3 联调测试（1小时）
- [ ] 测试数据展示
- [ ] 测试图表渲染

**完成标准**: 仪表盘数据可视化完整

---

### 第四阶段：完善优化（第7周）

#### 📝 任务24：管理员功能 - 后端（Day 34-35）
**负责人**: 后端开发
**优先级**: ⭐⭐⭐
**依赖**: 任务5完成

##### 24.1 用户管理（3小时）
- [ ] 扩展IUserService
  - [ ] listAllUsers() 所有用户列表
  - [ ] disableUser() 禁用用户
  - [ ] enableUser() 启用用户
  - [ ] assignRole() 分配角色

##### 24.2 财务管理（2小时）
- [ ] 创建IFinancialService
  - [ ] listPayments() 订单列表
  - [ ] processRefund() 退款审核

##### 24.3 系统设置（2小时）
- [ ] 创建ISystemService
  - [ ] getSystemConfig() 获取配置
  - [ ] updateSystemConfig() 更新配置
  - [ ] getOperationLogs() 操作日志

##### 24.4 Controller控制层（1小时）
- [ ] 创建AdminUserController
- [ ] 创建AdminFinancialController
- [ ] 创建AdminSystemController

##### 24.5 测试（1小时）
- [ ] 测试管理员功能

**完成标准**: 管理员功能完整

---

#### 📝 任务25：管理员功能 - 管理前端（Day 36-37）
**负责人**: 前端开发
**优先级**: ⭐⭐⭐
**依赖**: 任务24完成

##### 25.1 页面开发（10小时）
- [ ] 创建views/admin/user/UserManage.vue
  - [ ] 用户列表
  - [ ] 禁用/启用用户
  - [ ] 角色分配
- [ ] 创建views/admin/financial/FinancialManage.vue
  - [ ] 订单列表
  - [ ] 退款审核
  - [ ] 财务报表
- [ ] 创建views/admin/system/SystemSetting.vue
  - [ ] 系统配置
- [ ] 创建views/admin/system/OperationLog.vue
  - [ ] 操作日志

##### 25.2 管理端布局（2小时）
- [ ] 创建components/layout/AdminLayout.vue
  - [ ] 侧边栏菜单
  - [ ] 顶部导航
  - [ ] 面包屑

##### 25.3 联调测试（2小时）
- [ ] 测试管理员功能

**完成标准**: 管理端功能完整

---

#### 📝 任务26：功能测试与Bug修复（Day 38-40）
**负责人**: 全员
**优先级**: ⭐⭐⭐⭐⭐

##### 26.1 用户端测试（1天）
- [ ] 完整走一遍用户流程
  - [ ] 注册 → 登录 → 查看场地 → 预订 → 支付 → 查看订单
  - [ ] 报名课程
  - [ ] 购买会员卡
  - [ ] 修改个人信息
- [ ] 记录所有Bug

##### 26.2 管理端测试（1天）
- [ ] 完整测试管理员功能
  - [ ] 场地管理
  - [ ] 预订管理
  - [ ] 课程管理
  - [ ] 用户管理
  - [ ] 数据统计
- [ ] 记录所有Bug

##### 26.3 Bug修复（1天）
- [ ] 修复已发现的Bug
- [ ] 重新测试

##### 26.4 兼容性测试
- [ ] Chrome浏览器测试
- [ ] Firefox浏览器测试
- [ ] Edge浏览器测试
- [ ] 移动端适配检查

**完成标准**: 核心功能无严重Bug

---

#### 📝 任务27：性能优化（Day 41-42）
**负责人**: 全员
**优先级**: ⭐⭐⭐

##### 27.1 后端优化（1天）
- [ ] SQL查询优化
  - [ ] 检查慢查询
  - [ ] 添加必要索引
  - [ ] 优化复杂查询
- [ ] Redis缓存优化
  - [ ] 添加热点数据缓存
  - [ ] 设置合理过期时间
- [ ] 接口响应时间优化
  - [ ] 检查接口响应时间
  - [ ] 优化慢接口

##### 27.2 前端优化（1天）
- [ ] 路由懒加载
  - [ ] 所有路由改为懒加载
- [ ] 组件懒加载
  - [ ] 大组件懒加载
- [ ] 图片懒加载
  - [ ] 列表图片懒加载
- [ ] 打包优化
  - [ ] 检查打包体积
  - [ ] 代码分割

##### 27.3 压力测试
- [ ] 使用JMeter测试并发
  - [ ] 测试登录接口
  - [ ] 测试预订接口
  - [ ] 测试支付接口
- [ ] 优化并发问题

**完成标准**: 接口响应时间合理，无明显性能问题

---

#### 📝 任务28：文档完善（Day 43-44）
**负责人**: 全员
**优先级**: ⭐⭐⭐⭐

##### 28.1 用户文档（4小时）
- [ ] 编写用户操作手册
  - [ ] 注册登录
  - [ ] 预订流程
  - [ ] 课程报名
  - [ ] 会员卡使用

##### 28.2 技术文档（6小时）
- [ ] 完善API接口文档
  - [ ] 检查Swagger文档完整性
  - [ ] 补充接口说明
- [ ] 更新数据库设计文档
  - [ ] 补充表关系图
- [ ] 编写部署文档
  - [ ] 环境要求
  - [ ] 部署步骤
  - [ ] 配置说明

##### 28.3 毕设文档（6小时）
- [ ] 需求分析文档
- [ ] 系统设计文档
- [ ] 详细设计文档
- [ ] 测试报告
- [ ] 毕业论文初稿

**完成标准**: 文档齐全，描述清晰

---

#### 📝 任务29：部署上线（Day 45-46）
**负责人**: 后端开发为主
**优先级**: ⭐⭐⭐⭐

##### 29.1 后端部署（4小时）
- [ ] 打包：mvn clean package
- [ ] 上传到服务器
- [ ] 配置生产环境application-prod.yml
  - [ ] 数据库地址
  - [ ] Redis地址
  - [ ] JWT密钥
- [ ] 运行：java -jar basketball-system.jar --spring.profiles.active=prod
- [ ] 检查日志

##### 29.2 前端部署（3小时）
- [ ] 配置生产环境变量（.env.production）
- [ ] 打包：npm run build
- [ ] 上传dist目录到服务器
- [ ] 配置Nginx
  ```nginx
  server {
    listen 80;
    server_name basketball.example.com;

    location / {
      root /var/www/basketball-web;
      try_files $uri $uri/ /index.html;
    }

    location /api {
      proxy_pass http://localhost:8080;
    }
  }
  ```
- [ ] 重启Nginx

##### 29.3 数据库部署（2小时）
- [ ] 导入生产数据库
- [ ] 配置数据库权限
- [ ] 初始化数据

##### 29.4 测试上线环境（3小时）
- [ ] 测试所有功能
- [ ] 验证数据
- [ ] 性能测试

**完成标准**: 生产环境运行正常

---

#### 📝 任务30：答辩准备（Day 47-49）
**负责人**: 全员
**优先级**: ⭐⭐⭐⭐⭐

##### 30.1 代码检查（Day 47）
- [ ] 代码格式化
- [ ] 删除无用代码
- [ ] 删除测试代码
- [ ] 检查注释完整性
- [ ] 检查命名规范

##### 30.2 答辩准备（Day 48）
- [ ] 准备PPT
  - [ ] 项目背景
  - [ ] 技术架构
  - [ ] 功能演示
  - [ ] 技术亮点
  - [ ] 遇到的问题和解决方案
- [ ] 准备演示环境
  - [ ] 测试数据准备
  - [ ] 演示账号
- [ ] 准备演讲稿
- [ ] 预演答辩

##### 30.3 最终提交（Day 49）
- [ ] 提交代码到Git仓库
- [ ] 整理项目文档
  - [ ] 开发文档
  - [ ] 用户手册
  - [ ] 部署文档
  - [ ] 数据库文档
- [ ] 打包提交材料
  - [ ] 源代码
  - [ ] 可执行文件
  - [ ] 数据库脚本
  - [ ] 文档
- [ ] 最后检查
  - [ ] 确保所有文件齐全
  - [ ] 确保代码可运行

**完成标准**: 答辩准备充分，材料齐全

---

## 📊 任务分配建议

### 单人开发
按照任务顺序逐个完成，专注度高

### 双人开发（推荐）
- **人员A**: 后端开发为主
- **人员B**: 前端开发为主
- **协作方式**: A完成后端接口后，B立即开发前端并联调

### 多人开发
- **后端**: 2人，分模块开发
- **前端**: 2人，用户端1人+管理端1人

---

## 🎯 里程碑检查点

| 周次 | 里程碑 | 检查内容 |
|------|--------|----------|
| 第1周 | 项目搭建完成 | 前后端项目能正常运行 |
| 第2周 | 用户认证+场馆管理 | 用户可以登录并查看场地 |
| 第3周 | 预订功能完成 ⭐ | 用户可以完整预订和支付 |
| 第4周 | 课程功能完成 | 用户可以报名课程 |
| 第5周 | 会员系统完成 | 用户可以购买会员卡 |
| 第6周 | 管理端完成 | 管理员可以管理所有功能 |
| 第7周 | 项目完成 | 所有功能测试通过，准备答辩 |

---

## 💡 开发建议

### 每日工作流程
1. **查看任务清单** - 确认今天要完成的任务
2. **开发功能** - 按照任务清单开发
3. **自测** - 开发完立即测试
4. **联调** - 前后端联调
5. **Git提交** - 每天提交代码
6. **更新清单** - 标记已完成的任务

### 优先级说明
- ⭐⭐⭐⭐⭐ - 必须完成，核心功能
- ⭐⭐⭐⭐ - 重要功能
- ⭐⭐⭐ - 重要但可调整
- ⭐⭐ - 可选功能

### 风险控制
- **进度落后**: 优先完成⭐⭐⭐⭐⭐功能
- **技术难题**: 及时沟通，寻求帮助
- **Bug过多**: 暂停新功能，专注修复

---

## 📝 使用说明

### 如何使用本清单

1. **打印或导出** - 打印出来或导出为PDF
2. **逐项勾选** - 完成一项勾选一项
3. **标注问题** - 遇到问题在旁边标注
4. **每日回顾** - 每天查看进度

### 给AI布置任务的方式

**示例1**:
```
请帮我完成"任务5：用户认证模块 - 后端"中的"5.1 实体类与Mapper"部分
```

**示例2**:
```
请帮我完成"任务8：场馆管理模块 - 用户前端"的所有内容
```

**示例3**:
```
现在开始开发任务11，请创建预订管理的用户前端
```

---

**祝开发顺利！按照清单稳步推进，一定能按时完成！💪**

**版本**: v2.0
**更新日期**: 2025-09-30
**更新内容**: 重构为任务导向式清单，明确开发顺序和优先级